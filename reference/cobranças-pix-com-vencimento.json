{"openapi":"3.1.0","info":{"title":"Cobranças Pix com Vencimento","version":"1.0.0","description":""},"servers":[{"url":"https://api-staging.shipay.com.br","description":"Ambiente de staging da API Shipay"}],"paths":{"/pdvauth":{"post":{"tags":["Serviços de autenticação"],"summary":"Autenticação para acesso aos serviços transacionais","requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"access_key":{"type":"string","description":"Access Key do Cliente.","example":"DFt7Oqzn_LGyYnDGLwX7oA"},"secret_key":{"type":"string","description":"Secret Key do Cliente.","example":"dNiIFM34DSvKIAubw9nfJL7qrFWFoYKLSeHTPVOyNcEBw-7oTROVK3mq5mbzR_h_emcxZAaWyjmFsd7TVdeBmZ"},"client_id":{"type":"string","description":"Client ID do Caixa.","example":"GilnDDsTSTP73uVXm1C_A8ANAGTkoLler3MgpxPi04Z5mfc18cSG93-9PTlhN8nqKXfQOJ4rEOvDGcjT81Nwu_b6jPbYG3cZZ3YO5ZgqflA9AmRZzUv1TBDSP0sxYzplJvHmIlUw"}},"required":["access_key","secret_key","client_id"]}}}},"responses":{"200":{"description":"PDV Authenticated.","content":{"application/json":{"schema":{"type":"object","properties":{"access_token":{"type":"string","description":"Token de acesso do sistema autenticado.","example":"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE3MjY4NTUwMTAsIm5iZiI6MTcyNjg1NTAxMCwianRpIjoiMjUyY2I1YjEtZGFiZC00MmFlLThkZDAtZmMxNDFiYzAxNzg4IiwiZXhwIjoxNzI2ODY5NDEwLCJpZGVudGl0eSI6eyJhdXRoX3R5cGUiOiJjbGllbnQiLCJjdXN0b21lcl9pZCI6Miwic3RvcmVfcG9zX2lkIjo5MTI2fSwiZnJlc2giOmZhbHNlLCJ0eXBlIjoiYWNjZXNzIn0.wbM6iSn5RWy44av-Rzii6b6Uv5HSzXuUxx-TKC-q48Q"},"access_token_expires_in":{"type":"integer","description":"Tempo de vida em segundos do token de acesso.","example":"14400"},"refresh_token":{"type":"string","description":"Token de atualização do sistema autenticado.","example":"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE2MzA0Mjc5NDUsIm5iZiI6MTYzMDQyNzk0NSwianRpIjoiMDc1YjExOGYtZjE4Ni00MzVlLWIyMDUtNGMyNzgyZTUwNzczIiwiZXhwIjoxNjMzMDE5OTQ1LCJpZGVudGl0eSI6eyJhdXRoX3R5cGUiOiJjbGllbnQiLCJjdXN0b21lcl9pZCI6Miwic3RvcmVfcG9zX2lkIjozNTd9LCJ0eXBlIjoicmVmcmVzaCJ9.tYPOrCHLjdciDxYLwgVqt4I6tiDoAZBv4-6T5e8ocA"},"refresh_token_expires_in":{"type":"integer","description":"Tempo de vida em segundos do token de atualização.","example":"28800"},"token_type":{"type":"string","description":"Tipo dos tokens.","example":"Bearer"}}}}}},"401":{"description":"Unauthenticated Client.","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","description":"Código de erro.","example":"401"},"message":{"type":"string","description":"Mensagem de erro.","example":"Unauthenticated User."}}}}}}}}},"/refresh-token":{"post":{"tags":["Serviços de autenticação"],"summary":"Atualizar o Token de Acesso","requestBody":{"content":{}},"security":[{"bearerAuth":[]}],"parameters":[{"name":"authorization","in":"header","schema":{"type":"string","description":"Referesh token obtido através do serviço de [Autenticação para acesso aos serviços transacionais](https://shipay.readme.io/reference/post_pdvauth-5)"},"example":"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE3MjY4NTUwMTAsIm5iZiI6MTcyNjg1NTAxMCwianRpIjoiMjUyY2I1YjEtZGFiZC00MmFlLThkZDAtZmMxNDFiYzAxNzg4IiwiZXhwIjoxNzI2ODY5NDEwLCJpZGVudGl0eSI6eyJhdXRoX3R5cGUiOiJjbGllbnQiLCJjdXN0b21lcl9pZCI6Miwic3RvcmVfcG9zX2lkIjo5MTI2fSwiZnJlc2giOmZhbHNlLCJ0eXBlIjoiYWNjZXNzIn0.wbM6iSn5RWy44av-Rzii6b6Uv5HSzXuUxx-TKC-q48Q","required":true}],"responses":{"200":{"description":"Token Refreshed.","content":{"application/json":{"schema":{"type":"object","properties":{"access_token":{"type":"string","description":"Token de acesso do sistema autenticado.","example":"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE3MjY4NTUwMTAsIm5iZiI6MTcyNjg1NTAxMCwianRpIjoiMjUyY2I1YjEtZGFiZC00MmFlLThkZDAtZmMxNDFiYzAxNzg4IiwiZXhwIjoxNzI2ODY5NDEwLCJpZGVudGl0eSI6eyJhdXRoX3R5cGUiOiJjbGllbnQiLCJjdXN0b21lcl9pZCI6Miwic3RvcmVfcG9zX2lkIjo5MTI2fSwiZnJlc2giOmZhbHNlLCJ0eXBlIjoiYWNjZXNzIn0.wbM6iSn5RWy44av-Rzii6b6Uv5HSzXuUxx-TKC-q48Q"},"access_token_expires_in":{"type":"integer","description":"Tempo de vida em segundos do token de acesso.","example":"14400"},"refresh_token":{"type":"string","description":"Token de atualização do sistema autenticado.","example":"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE2MzA0Mjc5NDUsIm5iZiI6MTYzMDQyNzk0NSwianRpIjoiMDc1YjExOGYtZjE4Ni00MzVlLWIyMDUtNGMyNzgyZTUwNzczIiwiZXhwIjoxNjMzMDE5OTQ1LCJpZGVudGl0eSI6eyJhdXRoX3R5cGUiOiJjbGllbnQiLCJjdXN0b21lcl9pZCI6Miwic3RvcmVfcG9zX2lkIjozNTd9LCJ0eXBlIjoicmVmcmVzaCJ9.tYPOrCHLjdciDxYLwgVqt4I6tiDoAZBv4-6T5e8ocA"},"refresh_token_expires_in":{"type":"integer","description":"Tempo de vida em segundos do token de atualização.","example":"28800"},"token_type":{"type":"string","description":"Tipo do token.","example":"Bearer"}}}}}},"401":{"description":"Unauthenticated Client.","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","description":"Código de erro.","example":"401"},"message":{"type":"string","description":"Mensagem de erro.","example":"Unauthenticated User."}}}}}}}}},"/v1/wallets":{"get":{"tags":["Gerenciamento de Cobranças Pix com Vencimento"],"summary":"Lista de contas associadas à loja","security":[{"bearerAuth":[]}],"parameters":[{"name":"authorization","in":"header","description":"Token de acesso obtido através do serviço de autenticação /pdvauth.","schema":{"type":"string"},"example":"Bearer","required":true}],"responses":{"200":{"description":"Order Refunded","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","properties":{"logo":{"type":"string","description":"Logo da conta associada.","example":"https://storage.googleapis.com/providers-images-production/e-wallets/icons/pix.svg"},"friendly_name":{"type":"string","description":"Nome amigável da conta associada.","example":"Mercado Pago"},"pix_dict_key":{"type":"string","description":"Chave Pix da conta bancária cadastrada na Shipay.","example":"null"},"wallet_setting_id":{"type":"string","description":"Identificador da conta associada na Shipay.","example":"3907ec23-70da-4802-a685-712cb5357fc7"},"active":{"type":"boolean","description":"Status da conta associada na Shipay.","example":true},"pix_psp":{"type":"string","description":"Nome do provedor de serviço de pagamentos (PSP) da conta bancária cadastrada na Shipay.","enum":["bradesco","itau","tbanks"],"example":"null"},"transaction_type":{"type":"string","description":"Tipo da conta cadastrada. </br> `cashin` `cashout`","example":"cashin"},"wallet":{"type":"string","description":"Nome da conta associada na qual a cobrança foi criada. No caso de Pix, o valor desse campo é \"pix\", independente do provedor de serviço de pagamentos (PSP).","enum":["foxbit","coinpayments","mercadopago","pagseguro","picpay","tecban","pix"],"example":"pix"},"wallet_setting_name":{"type":"string","description":"Apelido da conta associada que foi configurada no painel Shipay.","example":"mp"},"minimum_payment":{"type":"number","description":"Valor mínimo que pode ser realizado com a conta associada.","example":"0.5"},"default":{"type":"boolean","description":"Se a conta associada está como \"Pix padrão\" na loja autenticada.","example":true}}}}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","description":"Código de erro.","example":"401"},"message":{"type":"string","description":"Mensagem de erro.","example":"Unauthorized"}}}}}},"500":{"description":"Error creating the order","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","description":"Código de erro.","example":"500"},"message":{"type":"string","description":"Mensagem de erro.","example":"Error creating the order"}}}}}}}}},"/v1/bacen/order-due-date":{"post":{"tags":["Gerenciamento de Cobranças Pix com Vencimento"],"summary":"Criar uma Cobrança Pix com Vencimento","parameters":[{"name":"authorization","in":"header","schema":{"type":"string","description":"Token de acesso obtido através do serviço de autenticação /pdvauth."},"example":"Bearer","required":true}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"buyer":{"type":"object","description":"Informações do devedor.","properties":{"cpf_cnpj":{"type":"string","description":"CPF ou CNPJ da pessoa do devedor (PF ou PJ).","example":"88646743063"},"name":{"type":"string","description":"Nome completo do devedor, no caso de PF. Nome da empresa, no caso de PJ.","example":"Bob da Silva"}},"required":["cpf_cnpj","name"]},"charge_enabled":{"type":"boolean","description":"Quando \"true\" gera um link para uma página com todos os detalhes da cobrança incluídos no campo amount_details junto com o QR Code em imagem e o copia e cola. Facilitando para seu cliente ter todas as informações e opções de pagamento, além de poder salvar em PDF ou encaminhar via WhatsApp.</br> **Importante: Esse campo por padrão será \"false\".**","default":"false"},"amount_details":{"type":"object","description":"Detalhamento de juros, multa, desconto e abatimento que incidirão sobre as cobranças.","properties":{"discount":{"description":"Descontos aplicados à cobrança","oneOf":[{"properties":{"fixed_date":{"description":"Descontos absolutos aplicados à cobrança.","items":{"properties":{"date":{"description":"Descontos aplicados por pagamento antecipado, com data fixa. Pode conter até três elementos, sendo que devem ser compostos por um par de \"data e value\", para estabelecer descontos percentuais ou absolutos, até aquela data de pagamento. A data deverá ser informada no formato `YYYY-MM-DD`, segundo ISO 8601. Essa data deverá **sempre ser menor que a data de vencimento da cobrança.**","example":"2022-07-01","format":"date","title":"Data limite para o desconto absoluto da cobrança","type":"string"},"value":{"description":"Desconto em valor absoluto ou percentual por dia, útil ou corrido, conforme valor.desconto.modalidade","example":0.93,"type":"number"}}},"type":"array"},"modality":{"description":"Modalidade de desconto, conforme tabela de domínios:\n\n| Descrição                                  | Domínio |\n|--------------------------------------------|---------|\n| Valor Fixo até a[s] data[s] informada[s]   | 1       |\n| Percentual até a data informada            | 2       |\n","example":1,"type":"number"}},"required":["modality","fixed_date"],"type":"object"},{"properties":{"modality":{"description":"Modalidade de desconto, conforme tabela de domínios:\n\n| Descrição                                  | Domínio |\n|--------------------------------------------|---------|\n| Valor por antecipação dia corrido          | 3       |\n| Valor por antecipação dia útil             | 4       |\n| Percentual por antecipação dia corrido     | 5       |\n| Percentual por antecipação dia útil        | 6       |\n","example":1,"type":"number"},"value":{"description":"Desconto em valor absoluto ou percentual por dia, útil ou corrido, conforme valor.desconto.modalidade.","example":0.93,"type":"number"}},"required":["modality","value"]}]},"fine":{"description":"Multa aplicada à cobrança.","properties":{"modality":{"description":"Modalidade da multa, conforme tabela de domínios:\n\n| Descrição  | Domínio |\n|------------|---------|\n| Valor Fixo | 1       |\n| Percentual | 2       |\n","example":1,"title":"Modalidade da multa","type":"number"},"value":{"description":"Valor da multa","example":0.02,"type":"number"}},"required":["modality","value"],"type":"object"},"interest":{"description":"Juros aplicado à cobrança.","properties":{"modality":{"type":"integer","example":1,"description":"Modalidade de juros, conforme tabela de domínios:\n\n| Descrição                        | Domínio |\n|----------------------------------|---------|\n| Valor (dias corridos)            | 1       |\n| Percentual ao dia (dias corridos) | 2       |\n| Percentual ao mês (dias corridos) | 3       |\n| Percentual ao ano (dias corridos) | 4       |\n| Valor (dias úteis)               | 5       |\n| Percentual ao dia (dias úteis)    | 6       |\n| Percentual ao mês (dias úteis)    | 7       |\n| Percentual ao ano (dias úteis)    | 8       |\n"},"value":{"description":"Valor do juros.","example":0.02,"type":"number"}},"required":["modality","value"],"type":"object"},"rebate":{"type":"object","description":"Abatimento aplicado à cobrança.","properties":{"modality":{"type":"integer","example":1,"description":"Modalidade de abatimentos, conforme tabela de domínios:\n\n| Descrição  | Domínio |\n|------------|---------|\n| Valor Fixo | 1       |\n| Percentual | 2       |\n"},"value":{"description":"Abatimentos ou outras deduções aplicadas ao documento, em valor absoluto ou percentual do valor original do documento.","example":0.04,"type":"number"}},"required":["modality","value"]}}},"items":{"type":"array","description":"Lista de itens da cobrança. É obrigatório enviar ao menos um item. No caso de pagamento parcial, ver https://docs.shipay.com.br/faq/#pagamento_parcial.","items":{"type":"object","properties":{"item_title":{"type":"string","description":"Nome do item.","example":"batata doce"},"quantity":{"type":"number","format":"float","description":"Quantidade do item.","example":"1"},"unit_price":{"type":"number","format":"float","description":"Valor unitário do item.","example":"100"}},"required":["item_title","quantity","unit_price"]}},"calendar":{"type":"object","description":"Informações a respeito de controle de tempo da cobrança, como data de vencimento e quantidade de dias após o vencimento que a cobrança pode ser paga.","properties":{"due_date":{"type":"string","format":"date","description":"Trata-se de uma data, no formato YYYY-MM-DD, segundo ISO 8601. É a data de vencimento da cobrança. A cobrança pode ser honrada até esse dia, inclusive, em qualquer horário do dia.","example":"2024-10-22"},"days_valid_after_due":{"type":"integer","description":"Trata-se da quantidade de dias corridos após a data de vencimento (due_date), em que a cobrança poderá ser paga.","example":"1"}},"required":["due_date","days_valid_after_due"]},"order_ref":{"type":"string","description":"Referência da cobrança.","example":"OjEMk671zhezB9TpzQcFmCB4xjuUCYNRAAA"},"total":{"type":"number","format":"float","description":"Valor total da cobrança. Este valor tem que ser sempre igual ao somatório dos valores dos itens.","example":"100"},"wallet":{"wallet":null,"type":"string","description":"Nome da conta associada na qual a cobrança foi criada. No caso de Pix, o valor desse campo é \"pix\", independente do provedor de serviço de pagamentos (PSP).","example":"shipay-pagador"}},"required":["buyer","modality","value","items","calendar","order_ref","total","wallet"]}}}},"responses":{"201":{"description":"Cobrança com vencimento criada","content":{"application/json":{"schema":{"type":"object","properties":{"charge_url":{"type":"string","description":"URL que direciona o usuário para a páginade pagamento.","example":"https://charges-staging.shipay.com.br/b00e68b584a848f495c1db11f96ea486"},"deep_link":{"type":"string","description":"URL que redireciona o usuário para o aplicativo da conta associada. No caso de cobranças Pix, esse campo retorna \"null\".","example":"null"},"expiration_date":{"type":"string","format":"date-time","description":"Soma dos valores de data de vencimento com o valor configurado em \"days_valid_after_due\".","example":"Wed, 23 Oct 2024 23:59:59 GMT"},"order_id":{"type":"string","description":"Identificador da cobrança na Shipay.","example":"f92d30a8-499d-4f46-bcf2-8d689ad7b5f7"},"pix_dict_key":{"type":"string","description":"Chave Pix da conta bancária que criou a cobrança.","example":"marcel@gmail.com"},"pix_psp":{"type":"string","description":"Nome do provedor de serviço de pagamentos (PSP) no qual a cobrança Pix foi gerada.","example":"itau"},"qr_code":{"type":"string","description":"QR Code em imagem, codificado em Base64.","example":"data:image/png;base64,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\""},"qr_code_text":{"type":"string","description":"QR Code em formato de texto (facilitando a impressão do QR Code em impressora térmica). No caso de Pix, esse campo é o código utilizado para a funcionalidade \"copia e cola\".","example":"00020101021226770014br.gov.bcb.pix2555api.itau/pix/qr/v2/9962d0b6-97ae-41b2-98ba-49a965ed59e852040000530398654040.015802BR5915loja da ***6304D1CF"},"status":{"type":"string","description":"Status da cobrança. Neste caso, os status possíveis são:\n\n| status         | descrição |\n|----------------|-----------|\n| pendingv        | Cobrança aberta aguardando pagamento. |\n","example":"pendingv"},"wallet":{"type":"string","description":"Nome da conta associada na qual a cobrança foi criado. No caso desse serviço, o valor desse campo é \"pix\", independente do provedor de serviço de pagamentos (PSP).","example":"shipay-pagador"}}}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","description":"Código de erro","example":"400"},"message":{"type":"string","description":"Mensagem de erro","example":"Bad request"}}}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","description":"Código de erro","example":"403"},"message":{"type":"string","description":"Mensagem de erro","example":"Forbidden"}}}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","description":"Código de erro","example":"404"},"message":{"type":"string","description":"Mensagem de erro","example":"Not Found"}}}}}},"422":{"description":"Unprocessable Entity","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","description":"Código de erro","example":"422"},"message":{"type":"string","description":"Mensagem de erro","example":"Unprocessable Entity"}}}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","description":"Código de erro","example":"500"},"message":{"type":"string","description":"Mensagem de erro","example":"Internal Server Error"}}}}}},"502":{"description":"Bad Gateway","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","description":"Código de erro","example":"502"},"message":{"type":"string","description":"Mensagem de erro","example":"Bad Gateway"}}}}}}}}},"/orderv/{order_id}":{"get":{"tags":["Gerenciamento de Cobranças Pix com Vencimento"],"summary":"Retornar status da cobrança na Shipay","parameters":[{"in":"path","name":"order_id","schema":{"type":"string"},"required":true,"description":"Identificador da cobrança na Shipay.","example":"f92d30a8-499d-4f46-bcf2-8d689ad7b5f7"},{"in":"header","name":"authorization","schema":{"type":"string"},"required":true,"description":"Token de acesso obtido através do serviço de autenticação /pdvauth.","example":"Bearer"}],"security":[{"bearerAuth":[]}],"responses":{"200":{"description":"Order Status","content":{"application/json":{"schema":{"type":"object","properties":{"buyer_info":{"type":"object","properties":{"address":{"type":"string","description":"Endereço do devedor.","example":"Rua nome da rua"},"city":{"type":"string","description":"Cidade do devedor.","example":"cidade123"},"document":{"type":"string","description":"CPF ou CNPJ do devedor.","example":"88646743063"},"email":{"type":"string","description":"E-mail do devedor.","example":"rob.dias@gmail.com"},"first_name":{"type":"string","description":"Primeiro nome do devedor.","example":"Roberto"},"last_name":{"type":"string","description":"Sobrenome do devedor.","example":"Dias"},"phone":{"type":"string","description":"Telefone do devedor.","example":"(11) 99999-9999"},"state":{"type":"string","description":"Estado(UF) do devedor.","example":"EstadoUF123"}}},"created_at":{"type":"string","format":"date-time","description":"Data e horário da criação da cobrança.","example":"07-10-2020 17:35:53"},"expiration_date":{"type":"string","format":"date-time","description":"Data da expiração da cobrança, baseado no valor declarado em \"expiration\" da requisição.","example":"2021-05-13T18:58:20.000Z"},"external_id":{"type":"string","description":"Identificador externo da cobrança (igual ao order_ref do POST /orderv ou /order-due-date).","example":"cobrança-qualquer-123"},"items":{"type":"array","items":{"type":"object","properties":{"name":{"type":"string","description":"Nome do item","example":"batata doce"},"quantity":{"type":"number","format":"float","description":"Quantidade do item","example":2},"unit_price":{"type":"number","format":"float","description":"Valor unitário do item","example":3.69}}}},"order_id":{"type":"string","description":"Identificador da cobrança na Shipay.","example":"f92d30a8-499d-4f46-bcf2-8d689ad7b5f7"},"paid_amount":{"type":"number","format":"float","description":"Valor pago pelo cliente. Utilizado para o sistema integrado verificar se o valor pago é igual ao valor da cobrança.","example":7.98},"payment_date":{"type":"string","format":"date-time","description":"Data e horário do pagamento.","example":"07-10-2020 17:45:51"},"pix_psp":{"type":"string","description":"Nome do provedor de serviço de pagamentos (PSP) no qual a cobrança Pix foi gerada.","enum":["bb","bradesco","itau_anybank","mercadopago","picpay_anybank","pagseguro","santander","sicredi","tbanks"]},"status":{"type":"string","description":"Status da cobrança. Neste caso, os status possíveis são:\n\n| status         | descrição |\n|----------------|-----------|\n| pendingv       | Cobrança aberta e ainda não paga.     |\n| approved       | Cobrança aprovada na conta associada. |\n| cancelled      | Cobrança (ainda não paga) cancelada na conta associada. |\n| expired        | Cobrança expirada sem pagamento. |\n| refunded       | Pagamento devolvido ao comprador. |\n| refund_pending | Devolução do pagamento solicitada. Status para PSPs assíncronos. O status fica até que o psp retorne se realizou ou não a devolução. |\n"},"total_order":{"type":"number","format":"float","description":"Valor total da cobrança .","example":7.98},"updated_at":{"type":"string","format":"date-time","description":"Última atualização da cobrança (data e horário).","example":"07-10-2020 17:42:06"},"wallet":{"type":"string","description":"Nome da conta associada na qual a cobrança foi criada. No caso de Pix, o valor desse campo é \"pix\", independente do provedor de serviço de pagamentos (PSP).","example":"shipay-pagador"},"wallet_payment_id":{"type":"string","description":"Identificador do pagamento da cobrança na Shipay. No caso de cobranças que não foram pagas, o retorno será \"null\".","example":"E00416968202108252013ScmJ9C0AUYK"}},"required":["wallet","items","name","quantity","unit_price"],"x-readme-ref-name":"OrdervResponse"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","description":"Código de erro","example":"401"},"message":{"type":"string","description":"Mensagem de erro","example":"Unauthorized"}}}}}},"403":{"description":"Permission Denied","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","description":"Código de erro","example":"403"},"message":{"type":"string","description":"Mensagem de erro","example":"Permission Denied"}}}}}},"404":{"description":"Order not Found","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","description":"Código de erro","example":"404"},"message":{"type":"string","description":"Mensagem de erro","example":"Order not Found"}}}}}},"500":{"description":"Error creating the order","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","description":"Código de erro","example":"500"},"message":{"type":"string","description":"Mensagem de erro","example":"Error creating the order"}}}}}}}}},"/orders/list":{"get":{"tags":["Gerenciamento de Cobranças Pix com Vencimento"],"summary":"Retornar uma lista de cobranças","parameters":[{"in":"query","name":"store_id","schema":{"type":"string"},"description":"Identificador da loja criada na Shipay.","example":"3ae79cb0-4219-a67ab4-8ef4-4b0bfd2403"},{"in":"query","name":"order_id","schema":{"type":"string"},"description":"Identificador da cobrança na Shipay.","example":"9dae4296-8baa2fe-1200-9157-47e23e1ec"},{"in":"query","name":"psp_provider","schema":{"type":"string"},"description":"Nome do PSP.","example":"null"},{"in":"query","name":"status","schema":{"type":"string"},"description":"Status da cobrança na Shipay.","example":"pending"},{"in":"query","name":"external_id","schema":{"type":"string"},"description":"Número de referência do pedido no sistema de PDV (igual ao 'order_ref' do POST /order).","example":"pedido-qualquer-123"},{"in":"query","name":"customer_id","schema":{"type":"string"},"description":"Identificador do customer na Shipay.","example":"be396fee-ddc0-4a45-b169-5c271f88be7b"},{"in":"query","name":"offset","schema":{"type":"string"},"description":"Página atual.","example":"0"},{"in":"query","name":"limit","schema":{"type":"string"},"description":"Limite de registros por página.","example":"10"},{"in":"query","name":"start_date","schema":{"type":"string"},"description":"Data e horário inicial do filtro (YYYY-MM-DDT00:00:00).","example":"2024-10-28T00:00:00"},{"in":"query","name":"end_date","schema":{"type":"string"},"description":"Data e horário final do filtro (YYYY-MM-DDT23:59:59).","example":"2024-10-28T23:59:59"},{"in":"query","name":"payment_start_date","schema":{"type":"string"},"description":"Data e horário inicial do pagamento (YYYY-MM-DDT00:00:00).","example":"2024-10-29T00:00:00"},{"in":"query","name":"payment_end_date","schema":{"type":"string"},"description":"Data e horário final do pagamento (YYYY-MM-DDT23:59:59).","example":"2024-10-29T23:59:59"},{"name":"authorization","in":"header","schema":{"type":"string"},"description":"Token de acesso obtido através do serviço de autenticação /pdvauth.","example":"Bearer","required":true}],"security":[{"bearerAuth":[]}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"count":{"type":"integer","description":"Número total de itens no resultado.","example":1},"data":{"type":"array","items":{"type":"object","properties":{"customer_id":{"type":"string","description":"Identificador único do cliente.","example":"d6e111d84c-f2aa-69e7-8EC1-ba88fb8f84"},"customer_name":{"type":"string","description":"Nome do cliente.","example":"Teste Customer"},"order_created_at":{"type":"string","format":"date-time","description":"Data e hora da criação da cobrança.","example":"2024-10-28 17:34:13"},"order_expiration_date":{"type":"string","description":"Data de expiração da cobrança, caso exista. Caso contrário, retorna 'null'.","example":"null"},"order_id":{"type":"string","description":"Identificador da cobrança na Shipay.","example":"9da1200e-e1ec-4296-9157-47e28baa2fe3"},"order_payment_date":{"type":"string","description":"Data de pagamento da cobrança. Caso não conste pagamento, o retorno será 'null'.","example":"null"},"order_updated_at":{"type":"string","format":"date-time","description":"Data e hora da última atualização da cobrança.","example":"2024-10-28 18:34:16"},"payment_method":{"type":"string","description":"Método de pagamento utilizado.","example":"shipay-pagador"},"status":{"type":"string","description":"Status atual da cobrança. Neste caso, os status possíveis são:\n\n| status            | descrição                                                                                                                                                                                                                                                                                          |\n|-------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| cancelled         | Cobrança (ainda não paga) cancelado no PSP.                                                                                                                                                                                                                                          |\n| expired           | Cobrança expirado após o prazo determinado de vencimento com status \"pending\".                                                                                                                                                                                                                                       |\n| refunded          | Pagamento devolvido ao comprador.                                                                                                                                                                                                                                                              |\n| partial_refunded  | Valor parcial do pagamento devolvido ao comprador.                                                                                                                                                                                                                                               |\n| refund_pending    | Devolução do pagamento solicitada. Status para PSPs assíncronos. O status fica até que o psp retorne se realizou ou não a devolução. |\n| pending           | Cobrança pendente. Neste caso, a requisição de **cancelamento** falhou no PSP e a cobrança continua pendente.                                                                                                                                                                          |\n| approved          | Cobrança aprovado. Neste caso, a requisição de **devolução** falhou no PSP e a cobrança continua aprovado.                                                                                                                                                                               |\n","example":"pending"},"store_id":{"type":"string","description":"Identificador da loja na Shipay.","example":"3ae77a-2898-4403-8ef4-4b0ba6b4fd9cb0"},"store_name":{"type":"string","description":"Nome da loja na Shipay.","example":"Loja Teste"},"store_pos_id":{"type":"string","description":"Identificador da loja.","example":"275c4952be5cf1b1f9a584c8844acc8e"},"store_pos_name":{"type":"string","description":"Nome do caixa associado a loja.","example":"Caixa 01"},"total_order":{"type":"number","format":"float","description":"Valor total do pedido.","example":4},"wallet_payment_id":{"type":"string","description":"Identificador do pagamento da cobrança na Shipay. No caso de cobranças que não foram pagas, o retorno será \"null\".","example":"null"}}}},"offset":{"type":"integer","description":"Quantidade de registros que foram desconsiderados, desde o primeiro registro, no retorno da consulta.","example":0},"total":{"type":"integer","description":"Número total de registros.","example":1}}}}}}}}},"/order/{order_id}/refund":{"delete":{"tags":["Gerenciamento de Cobranças Pix com Vencimento"],"summary":"Realizar Devolução do pagamento de uma Cobrança","parameters":[{"in":"path","name":"order_id","schema":{"type":"string"},"required":true,"description":"Identificador da cobrança na Shipay.","example":"f92d30a8-499d-4f46-bcf2-8d689ad7b5f7"},{"in":"header","name":"authorization","schema":{"type":"string"},"required":true,"description":"Token de acesso obtido através do serviço de autenticação /pdvauth.","example":"Bearer"}],"security":[{"bearerAuth":[]}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"amount":{"type":"number","description":"Valor a ser devolvido.</br>Este valor tem que ser no máximo igual ao valor total do pedido.","example":5}}}}}},"responses":{"200":{"description":"Devolução de valores pagos de Cobranças","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","description":"Mensagem relativa a operação feita","example":"R$ 1.0 has been refunded."},"order_id":{"type":"string","description":"Identificador da cobrança na Shipay.","example":"652f385f-91f4-48cd-8e56-1fc6dec21526"},"status":{"description":"Status atual da cobrança. Neste caso, os status possíveis são:\n\n| status           | descrição                                                                                                                                                                                                                                                                                          |\n|------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| refunded          | Pagamento devolvido ao comprador                                                                                                                                                                                                                                                                   |\n| partial_refunded  | Valor parcial do pagamento devolvido ao comprador                                                                                                                                                                                                                                                  |\n| refund_pending    | Devolução do pagamento solicitada. Status para PSPs assíncronos. O status fica até que o psp retorne se realizou ou não a devolução. |\n| approved          | Cobrança aprovado. Neste caso, a requisição de devolução falhou no PSP e a cobrança continua aprovado.                                                                                                                                                                                      |\n","example":"refunded","type":"string"}}}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","description":"Código de erro","example":"400"},"message":{"type":"string","description":"Mensagem de erro","example":"Bad request"}}}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","description":"Código de erro","example":"401"},"message":{"type":"string","description":"Mensagem de erro","example":"Unauthorized"}}}}}},"403":{"description":"User not authorized","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","description":"Código de erro","example":"403"},"message":{"type":"string","description":"Mensagem de erro","example":"User not authorized"}}}}}},"500":{"description":"Error creating the order","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","description":"Código de erro","example":"500"},"message":{"type":"string","description":"Mensagem de erro","example":"Error creating the order"}}}}}}}}},"/v1/bacen/order-due-date/{order_id}":{"patch":{"tags":["Gerenciamento de Cobranças Pix com Vencimento"],"summary":"Cancelar uma cobrança pendente.","parameters":[{"in":"path","name":"order_id","schema":{"type":"string"},"required":true,"description":"Identificador da cobrança na Shipay.","example":"f92d30a8-499d-4f46-bcf2-8d689ad7b5f7"},{"name":"authorization","in":"header","schema":{"type":"string"},"description":"Token de acesso obtido através do serviço de autenticação /pdvauth.","example":"Bearer","required":true}],"security":[{"bearerAuth":[]}],"responses":{"200":{"description":"Batch","content":{"application/json":{"schema":{"type":"object","properties":{"order_id":{"type":"string","description":"Identificador da cobrança na Shipay.","example":"1d746c02-49ff-40e7-9c43-b8232feab92f"},"status":{"description":"Status atual da cobrança. Neste caso, os status possíveis são:\n\n| status           | descrição                                                                                                                                                                                                                                                                                          |\n|------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| cancelled         | Cobrança (ainda não paga) cancelada no PSP                                                                                                                                                                                                                                       |\n| expired           | Cobrança expirada sem pagamento                                                                                                                                                                                                                                       |\n| refunded          | Pagamento devolvido ao comprador                                                                                                                                                                                                                                                                   |\n| partial_refunded  | Valor parcial do pagamento devolvido ao comprador                                                                                                                                                                                                                                               |\n| refund_pending    | Pagamento com devolução solicitada \n| pending           | Cobrança pendente. Neste caso, a requisição de **cancelamento** falhou na conta associada e a cobrança continua pendente                                                                                                                                                                          |\n| approved          | Cobrança aprovado. Neste caso, a requisição de **devolução** falhou na conta associada e a cobrança continua aprovado                                                                                                                                                                               |\n","example":"cancelled","type":"string"}}}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","description":"Código de erro","example":"400"},"message":{"type":"string","description":"Mensagem de erro","example":"Bad request"}}}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","description":"Código de erro","example":"403"},"message":{"type":"string","description":"Mensagem de erro","example":"Forbidden"}}}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","description":"Código de erro","example":"404"},"message":{"type":"string","description":"Mensagem de erro","example":"Not Found"}}}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","description":"Código de erro","example":"500"},"message":{"type":"string","description":"Mensagem de erro","example":"Internal Server Error"}}}}}}}}}},"components":{"securitySchemes":{"bearerAuth":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}},"schemas":{"AuthResponse":{"type":"object","properties":{"access_token":{"type":"string","description":""},"refresh_token":{"type":"string","description":""},"access_token_expires_in":{"type":"integer","description":""},"refresh_token_expires_in":{"type":"integer","description":""},"token_type":{"type":"string","description":""}},"x-readme-ref-name":"AuthResponse"},"OrdervResponse":{"type":"object","properties":{"buyer_info":{"type":"object","properties":{"address":{"type":"string","description":"Endereço do devedor.","example":"Rua nome da rua"},"city":{"type":"string","description":"Cidade do devedor.","example":"cidade123"},"document":{"type":"string","description":"CPF ou CNPJ do devedor.","example":"88646743063"},"email":{"type":"string","description":"E-mail do devedor.","example":"rob.dias@gmail.com"},"first_name":{"type":"string","description":"Primeiro nome do devedor.","example":"Roberto"},"last_name":{"type":"string","description":"Sobrenome do devedor.","example":"Dias"},"phone":{"type":"string","description":"Telefone do devedor.","example":"(11) 99999-9999"},"state":{"type":"string","description":"Estado(UF) do devedor.","example":"EstadoUF123"}}},"created_at":{"type":"string","format":"date-time","description":"Data e horário da criação da cobrança.","example":"07-10-2020 17:35:53"},"expiration_date":{"type":"string","format":"date-time","description":"Data da expiração da cobrança, baseado no valor declarado em \"expiration\" da requisição.","example":"2021-05-13T18:58:20.000Z"},"external_id":{"type":"string","description":"Identificador externo da cobrança (igual ao order_ref do POST /orderv ou /order-due-date).","example":"cobrança-qualquer-123"},"items":{"type":"array","items":{"type":"object","properties":{"name":{"type":"string","description":"Nome do item","example":"batata doce"},"quantity":{"type":"number","format":"float","description":"Quantidade do item","example":2},"unit_price":{"type":"number","format":"float","description":"Valor unitário do item","example":3.69}}}},"order_id":{"type":"string","description":"Identificador da cobrança na Shipay.","example":"f92d30a8-499d-4f46-bcf2-8d689ad7b5f7"},"paid_amount":{"type":"number","format":"float","description":"Valor pago pelo cliente. Utilizado para o sistema integrado verificar se o valor pago é igual ao valor da cobrança.","example":7.98},"payment_date":{"type":"string","format":"date-time","description":"Data e horário do pagamento.","example":"07-10-2020 17:45:51"},"pix_psp":{"type":"string","description":"Nome do provedor de serviço de pagamentos (PSP) no qual a cobrança Pix foi gerada.","enum":["bb","bradesco","itau_anybank","mercadopago","picpay_anybank","pagseguro","santander","sicredi","tbanks"]},"status":{"type":"string","description":"Status da cobrança. Neste caso, os status possíveis são:\n\n| status         | descrição |\n|----------------|-----------|\n| pendingv       | Cobrança aberta e ainda não paga.     |\n| approved       | Cobrança aprovada na conta associada. |\n| cancelled      | Cobrança (ainda não paga) cancelada na conta associada. |\n| expired        | Cobrança expirada sem pagamento. |\n| refunded       | Pagamento devolvido ao comprador. |\n| refund_pending | Devolução do pagamento solicitada. Status para PSPs assíncronos. O status fica até que o psp retorne se realizou ou não a devolução. |\n"},"total_order":{"type":"number","format":"float","description":"Valor total da cobrança .","example":7.98},"updated_at":{"type":"string","format":"date-time","description":"Última atualização da cobrança (data e horário).","example":"07-10-2020 17:42:06"},"wallet":{"type":"string","description":"Nome da conta associada na qual a cobrança foi criada. No caso de Pix, o valor desse campo é \"pix\", independente do provedor de serviço de pagamentos (PSP).","example":"shipay-pagador"},"wallet_payment_id":{"type":"string","description":"Identificador do pagamento da cobrança na Shipay. No caso de cobranças que não foram pagas, o retorno será \"null\".","example":"E00416968202108252013ScmJ9C0AUYK"}},"required":["wallet","items","name","quantity","unit_price"],"x-readme-ref-name":"OrdervResponse"}}},"x-readme":{"explorer-enabled":true,"proxy-enabled":true}}