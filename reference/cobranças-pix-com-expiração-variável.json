{"openapi":"3.1.0","info":{"title":"Cobranças Pix com Expiração Variável","version":"1.0.0","description":""},"servers":[{"url":"https://api-staging.shipay.com.br","description":"Ambiente de staging da API Shipay"}],"paths":{"/pdvauth":{"post":{"tags":["Serviços de autenticação"],"summary":"Autenticação para acesso aos serviços transacionais","requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"access_key":{"type":"string","description":"Access Key do Cliente.","example":"DFt7Oqzn_LGyYnDGLwX7oA"},"secret_key":{"type":"string","description":"Secret Key do Cliente.","example":"dNiIFM34DSvKIAubw9nfJL7qrFWFoYKLSeHTPVOyNcEBw-7oTROVK3mq5mbzR_h_emcxZAaWyjmFsd7TVdeBmZ"},"client_id":{"type":"string","description":"Client ID do Caixa.","example":"GilnDDsTSTP73uVXm1C_A8ANAGTkoLler3MgpxPi04Z5mfc18cSG93-9PTlhN8nqKXfQOJ4rEOvDGcjT81Nwu_b6jPbYG3cZZ3YO5ZgqflA9AmRZzUv1TBDSP0sxYzplJvHmIlUw"}},"required":["access_key","secret_key","client_id"]}}}},"responses":{"200":{"description":"PDV Authenticated.","content":{"application/json":{"schema":{"type":"object","properties":{"access_token":{"type":"string","description":"Token de acesso do sistema autenticado.","example":"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE3MjY4NTUwMTAsIm5iZiI6MTcyNjg1NTAxMCwianRpIjoiMjUyY2I1YjEtZGFiZC00MmFlLThkZDAtZmMxNDFiYzAxNzg4IiwiZXhwIjoxNzI2ODY5NDEwLCJpZGVudGl0eSI6eyJhdXRoX3R5cGUiOiJjbGllbnQiLCJjdXN0b21lcl9pZCI6Miwic3RvcmVfcG9zX2lkIjo5MTI2fSwiZnJlc2giOmZhbHNlLCJ0eXBlIjoiYWNjZXNzIn0.wbM6iSn5RWy44av-Rzii6b6Uv5HSzXuUxx-TKC-q48Q"},"access_token_expires_in":{"type":"integer","description":"Tempo de vida em segundos do token de acesso.","example":"14400"},"refresh_token":{"type":"string","description":"Token de atualização do sistema autenticado.","example":"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE2MzA0Mjc5NDUsIm5iZiI6MTYzMDQyNzk0NSwianRpIjoiMDc1YjExOGYtZjE4Ni00MzVlLWIyMDUtNGMyNzgyZTUwNzczIiwiZXhwIjoxNjMzMDE5OTQ1LCJpZGVudGl0eSI6eyJhdXRoX3R5cGUiOiJjbGllbnQiLCJjdXN0b21lcl9pZCI6Miwic3RvcmVfcG9zX2lkIjozNTd9LCJ0eXBlIjoicmVmcmVzaCJ9.tYPOrCHLjdciDxYLwgVqt4I6tiDoAZBv4-6T5e8ocA"},"refresh_token_expires_in":{"type":"integer","description":"Tempo de vida em segundos do token de atualização.","example":"28800"},"token_type":{"type":"string","description":"Tipo dos tokens.","example":"Bearer"}}}}}},"401":{"description":"Unauthenticated Client.","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","description":"Código de erro.","example":"401"},"message":{"type":"string","description":"Mensagem de erro.","example":"Unauthenticated User."}}}}}}}}},"/refresh-token":{"post":{"tags":["Serviços de autenticação"],"summary":"Atualizar o Token de Acesso","requestBody":{"content":{}},"security":[{"bearerAuth":[]}],"parameters":[{"name":"authorization","in":"header","schema":{"type":"string","description":"Referesh token obtido através do serviço de [Autenticação para acesso aos serviços transacionais](https://shipay.readme.io/reference/post_pdvauth-5)"},"example":"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE3MjY4NTUwMTAsIm5iZiI6MTcyNjg1NTAxMCwianRpIjoiMjUyY2I1YjEtZGFiZC00MmFlLThkZDAtZmMxNDFiYzAxNzg4IiwiZXhwIjoxNzI2ODY5NDEwLCJpZGVudGl0eSI6eyJhdXRoX3R5cGUiOiJjbGllbnQiLCJjdXN0b21lcl9pZCI6Miwic3RvcmVfcG9zX2lkIjo5MTI2fSwiZnJlc2giOmZhbHNlLCJ0eXBlIjoiYWNjZXNzIn0.wbM6iSn5RWy44av-Rzii6b6Uv5HSzXuUxx-TKC-q48Q","required":true}],"responses":{"200":{"description":"Token Refreshed.","content":{"application/json":{"schema":{"type":"object","properties":{"access_token":{"type":"string","description":"Token de acesso do sistema autenticado.","example":"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE3MjY4NTUwMTAsIm5iZiI6MTcyNjg1NTAxMCwianRpIjoiMjUyY2I1YjEtZGFiZC00MmFlLThkZDAtZmMxNDFiYzAxNzg4IiwiZXhwIjoxNzI2ODY5NDEwLCJpZGVudGl0eSI6eyJhdXRoX3R5cGUiOiJjbGllbnQiLCJjdXN0b21lcl9pZCI6Miwic3RvcmVfcG9zX2lkIjo5MTI2fSwiZnJlc2giOmZhbHNlLCJ0eXBlIjoiYWNjZXNzIn0.wbM6iSn5RWy44av-Rzii6b6Uv5HSzXuUxx-TKC-q48Q"},"access_token_expires_in":{"type":"integer","description":"Tempo de vida em segundos do token de acesso.","example":"14400"},"refresh_token":{"type":"string","description":"Token de atualização do sistema autenticado.","example":"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE2MzA0Mjc5NDUsIm5iZiI6MTYzMDQyNzk0NSwianRpIjoiMDc1YjExOGYtZjE4Ni00MzVlLWIyMDUtNGMyNzgyZTUwNzczIiwiZXhwIjoxNjMzMDE5OTQ1LCJpZGVudGl0eSI6eyJhdXRoX3R5cGUiOiJjbGllbnQiLCJjdXN0b21lcl9pZCI6Miwic3RvcmVfcG9zX2lkIjozNTd9LCJ0eXBlIjoicmVmcmVzaCJ9.tYPOrCHLjdciDxYLwgVqt4I6tiDoAZBv4-6T5e8ocA"},"refresh_token_expires_in":{"type":"integer","description":"Tempo de vida em segundos do token de atualização.","example":"28800"},"token_type":{"type":"string","description":"Tipo do token.","example":"Bearer"}}}}}},"401":{"description":"Unauthenticated Client.","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","description":"Código de erro.","example":"401"},"message":{"type":"string","description":"Mensagem de erro.","example":"Unauthenticated User."}}}}}}}}},"/v1/wallets":{"get":{"tags":["Gerenciamento de Cobranças Pix com Expiração Variável"],"summary":"Lista de contas associadas à loja","security":[{"bearerAuth":[]}],"parameters":[{"name":"authorization","in":"header","description":"Token de acesso obtido através do serviço de autenticação /pdvauth.","schema":{"type":"string"},"example":"Bearer","required":true}],"responses":{"200":{"description":"Order Refunded","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","properties":{"logo":{"type":"string","description":"Logo da conta associada.","example":"https://storage.googleapis.com/providers-images-production/e-wallets/icons/pix.svg"},"friendly_name":{"type":"string","description":"Nome amigável da conta associada.","example":"Mercado Pago"},"pix_dict_key":{"type":"string","description":"Chave Pix da conta associada na Shipay. No caso de carteiras digitais, terá o valor \"null\".","example":"null"},"wallet_setting_id":{"type":"string","description":"Identificador da conta associada na Shipay.","example":"3907ec23-70da-4802-a685-712cb5357fc7"},"active":{"type":"boolean","description":"Status da conta associada na Shipay.","example":true},"pix_psp":{"type":"string","description":"Nome do provedor de serviço de pagamentos (PSP) da conta associada na Shipay. Quando for carteira digital (exceto Pix) será \"null\".","enum":["bb","bnb","bradesco","bs2","itau","itau_anybank","itau_anybank_v2","mercadopago","pagseguro","picpay_anybank","santander","sicredi","sicoob","tbanks"],"example":"null"},"transaction_type":{"type":"string","description":"Tipo da conta cadastrada. </br> `cashin` `cashout`","example":"cashin"},"wallet":{"type":"string","description":"Nome da conta associada na qual a cobrança foi criada. No caso de Pix, o valor desse campo é \"pix\", independente do provedor de serviço de pagamentos (PSP).","enum":["foxbit","coinpayments","mercadopago","pagseguro","picpay","tecban","pix"],"example":"mercadopago"},"wallet_setting_name":{"type":"string","description":"Apelido da conta associada que foi configurada no painel Shipay.","example":"mp"},"minimum_payment":{"type":"number","description":"Valor mínimo que pode ser realizado com a conta associada.","example":"0.5"},"default":{"type":"boolean","description":"Se a conta associada está como \"Pix padrão\" na loja autenticada.","example":true}}}}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","description":"Código de erro.","example":"401"},"message":{"type":"string","description":"Mensagem de erro.","example":"Unauthorized"}}}}}},"500":{"description":"Error creating the order","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","description":"Código de erro.","example":"500"},"message":{"type":"string","description":"Mensagem de erro.","example":"Error creating the order"}}}}}}}}},"/orderv":{"post":{"tags":["Gerenciamento de Cobranças Pix com Expiração Variável"],"summary":"Criar uma Cobrança Pix com Expiração Variável","requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"allow_amount_change":{"type":"boolean","description":"Parâmetro que indica se o pagador pode realizar o pagamento de um valor diferente da cobrança original.</br>**Se true**, o pagador poderá alterar o valor do pagamento.</br>**Se false**, o pagador só poderá pagar o valor original da cobrança.","example":"true"},"buyer":{"type":"object","properties":{"cpf_cnpj":{"type":"string","description":"Informe um CPF ou CNPJ do devedor (PF ou PJ).</br>Informaões devem ser válidas.","example":"88646743063"},"email":{"type":"string","description":"Endereço de e-mail do devedor.","example":"bob.silva@gmail.com"},"name":{"type":"string","description":"Nome completo do devedor, no caso de PF.</br>Nome da empresa, no caso de PJ.","example":"Bob da Silva"},"phone":{"type":"string","description":"Número de telefone do devedor.","example":"(11) 99999-9999"}},"required":["cpf_cnpj","name"]},"callback_url":{"type":"string","description":"A URL informada será notificada toda vez que a cobrança alterar de status. Para mais detalhes, acessar https://docs.shipay.com.br/faq/#callback.","example":"https://7d703c9451be72658b3fdc0dcf820946.m.pipedream.net"},"expiration":{"type":"integer","description":"Tempo de expiração da cobrança, em segundos.","example":3600},"items":{"type":"array","items":{"type":"object","properties":{"ean":{"type":"string","description":"EAN do item.","example":"0123456789012"},"item_title":{"type":"string","description":"Nome do item (obrigatório).","example":"batata doce"},"quantity":{"type":"number","description":"Quantidade do item (obrigatório).","example":2},"sku":{"type":"string","description":"SKU do item.","example":"MTC-6110"},"unit_price":{"type":"number","description":"Valor unitário do item (obrigatório).","example":2}},"required":["item_title","quantity","unit_price"]}},"location_id":{"type":"string","description":"UUID da Location que será associada a ordem.","example":"14c6e4ec-9875-45de-9b23-0483fda2b9eb"},"order_ref":{"type":"string","description":"Identificador externo da cobrança.","example":"cobrança-qualquer-123"},"pix_dict_key":{"type":"string","description":"Chave Pix da conta bancária que deve criar a cobrança. Para casos onde você possuir mais de um Pix por loja, você poderá diferenciar a criação por essa chave. Para saber mais: https://docs.shipay.com.br/faq/#mais_de_um_pix_por_loja","example":"carlos@gmail.com"},"total":{"type":"number","description":"Valor total da cobrança.</br>Este valor tem que ser sempre igual ao somatório dos valores dos itens.","example":4},"wallet":{"type":"string","description":"Nome da conta na qual a cobrança foi criada.</br> `shipay-pagador` `foxbit` `coinpayments` `mercadopago` `pagseguro` `picpay` `tecban` `pix`","example":"shipay-pagador"}},"required":["buyer","callback_url","expiration","items","order_ref","total","wallet"]}}}},"security":[{"bearerAuth":[]}],"parameters":[{"name":"authorization","in":"header","schema":{"type":"string","description":"Token de acesso obtido através do serviço de autenticação /pdvauth."},"example":"Bearer","required":true},{"name":"x-shipay-order-type","in":"header","schema":{"type":"string","description":"Header necessário para cobranças de e-commerce. É necessário que o caixa cadastrado no painel Shipay esteja cadastrado como e-commerce.","example":"e-order"}}],"responses":{"201":{"description":"Order Created","content":{"application/json":{"schema":{"type":"object","properties":{"created_at":{"type":"string","format":"date-time","description":"Data de criação da cobrança","example":"2024-09-23T16:31:38"},"deep_link":{"type":"string","description":"URL que redireciona o usuário para o aplicativo da conta associada. No caso de cobranças Pix, esse campo será \"null\".","example":"null"},"expiration_date":{"type":"string","format":"date-time","description":"Data da expiração da cobrança, baseado no valor declarado em \"expiration\" da requisição.","example":"2024-09-23T16:36:38"},"order_id":{"type":"string","description":"Identificador da cobrança na Shipay.","example":"1d746c02-49ff-40e7-9c43-b8232feab92f"},"pix_dict_key":{"type":"string","description":"Chave Pix da conta bancária que criou a cobrança.","example":"carlos@gmail.com"},"pix_psp":{"type":"string","description":"Nome do provedor de serviço de pagamentos (PSP) no qual a cobrança Pix foi gerada. No caso de cobranças realizadas com carteiras digitais (exceto Pix), o retorno será \"null\".","enum":["bb","bnb","bradesco","bs2","itau","itau_anybank","itau_anybank_v2","mercadopago","pagseguro","picpay_anybank","santander","sicredi","sicoob","tbanks"],"example":"null"},"qr_code":{"type":"string","description":"QR Code em imagem, codificado em Base64.","example":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAmIAAAJiAQAAAABMLZNLAAAGL0lEQVR4nO2dS27jOBCG/xoJ8FIC5gA5inyzIEfqG0hHyQEakJYGKNQsWEUW3TOTHiD2WMLPhePo8YECWGa9JYrvG8sf3wgDSCONNNJII4000kgjjbRXoImNHlhGAIuIAJuIXAHI1a+WOq5bj3xJ/vdhcyONtKfSJlVVXQEAu0mAvKkC2AXLuAsW6aG6dopJVfMxoFNVVW1p3zs30kh7Kq3sAe+fPQB0qnMWg04xrZ3Ku97EJQAAhpT/5u3kkXMjjbT/idapqqYsFTpv4hKwXbJUYBER1c+LyvXZcyONtOfRlhEQGXfReUjIix+b//IvbzcxgRgBnZ87N9JIeyANWd03e8GNgWmF2RDzYGfz1eHb2uU7AmB+5ScljbTfoi0iIjICvgfYbmDmw9bHHSJ/AyBX7NmN9Mi5kUbaU2hZ+WkSMXbRZeyA5S1BgYRsJy9jB83Htl0UG6B3d770k5JG2hfDVJwVgHmPAGBwlQlDVY+S6035toRwm1JHIu3gtCILndpqX22h24dbBGZNhOs6zeY1hgTKAmmHp/kq9i0hG8sleJDjb5MmhHWfHUz5xtRQXvlJSSPti+Fh4y77jFRXQGf4HoByLEels0CYGFRFibJA2uFpLgtDMRqqxjPEDQPI8mGX2HXuUaIskHZ4WokvpPDNl3wMPDTrvoqBfVAWSDs8rewLKWtGriOhOImQDQTXm1ACbqZGubZEWSDt2LS4G9hGkIKxbBLgdrKnskZna3A1URZIOzANWseMRvtXdVmou4aJRisV1JFIOwOt+JHcDpgHW+j2rdgGWT3KH50GRanaFZQF0g5MC3HnIAGtgWChBdTog2rMYgX9SKSdgOb5SBsADKnPZQp5DD9Fl7FLMq17PiIY9t5Obz00p3D/GCHT/P1zI420Z9KivVBdSECbkrHCvEdTcTrRXiDtZLQYXygKUF33rgoVLahJv3CFSikLpB2fFm3nGfCcOxRTOvhPS51/lQBP0KMskHZ4Wqxrq8vbFCCTD1WPObiOZJmtJj01mfuVn5Q00r4Y1VTIY6pO1LLu84niM5oBhBMYKAuknYAWbOdgJZju40ISzIeSpnF3gjoSaUenNbJQ0u1qXA33YYTkelMp7QHAfYG0k9FKSO1jbMo7y4ncMeZ9tbYxrh6lv6V979xII+3BtGA75/+LvdCULsCbwLgfKW4JK7gvkHZ8WvCpegoeUHUkX/wlTaPaFS4urGsj7Ry04keKxQlmGJdIw1wqQK3WDajVnrUOiLJA2pFpsZ6zWtG1kgEed3ajoSlnmNEkcVAWSDswLepIQQta/ewM3xfyaoeH3qxbQGrOvvKTkkbaF6NZ4+rBAy2Wg8YdoqnlMb2J8QXSzkFre17A/UhN5Vqo/b+rdy4N6ikLpB2e1vZHitGCajEH+Zi9E8wvH5QF0g5Oi7nYAEIGdu2RF375i3FRVStvHUZZIO0MNLkCME+Rv5NQ5+2i8r52KiL2Dp7clt50pF2s2rMCXv9JSSPtH0e1F+zAoFqTjbyLqjZpR23cmXmqpJ2CFmJt7isFYrWO+5Zi4yQUP2u5jbJA2tFpMaAwVSPYnUS1ttmvq43nYz9uygJph6fFqEJRlNyUvkvGA5qUJU/fox+JtFPQQj9VG+5Yrc2EaxlPjC+UlIxwySs/KWmk/Q5N5+2i5jrNLyu8KJY3twM+xl3kXW/+isKtB6bPvqRrs36BtBPQYu/U6j2KvqX2l7+oUbVCmvEF0s5F61ztGRLkuolgWndR1ZuESh9sIpg0Qa7oQgmQXB85N9JIewKtqeXxQra6VwTHERB7Y9QSB/aEIe0ctNgfSX1lWxbSCiBIQJuyVB2rrOUh7VS0TUSu9yfdcbSICDDcRK7bRXNb4Y9xFzvx6LmRRtozaPextrAbxPfXti3zPKOb73cm7dy0TlXXXSz47BsBlnGXXPr2MQIib6XH6vq8uZFG2sNovf0dFMAG6DJ2kOkHINNnn4DhpwDokgvECgCdYrn2SYA+yfTjTze+X/lJSSPt34fJwpLV/g4yraPYW0mGm2D6vKhguIku1y4JAMi07j0wrFBgF11GiD5ibqSR9kya6NfX/PZYXvlJSSONNNJII4000kgjjbT/Ov4CgktHwvb6YQ8AAAAASUVORK5CYII=\""},"qr_code_text":{"type":"string","description":"QR Code em formato de texto (facilitando a impressão do QR Code em impressora térmica). No caso de Pix, esse campo é o código utilizado para a funcionalidade \"copia e cola\".","example":"00020101021226770014br.gov.bcb.pix2555api.itau/pix/qr/v2/9962d0b6-97ae-41b2-98ba-49a965ed59e852040000530398654040.015802BR5915loja da ***6304D1CF"},"status":{"type":"string","description":"Status da cobrança. Neste caso, o único status possível é:\n\n| status         | descrição |\n|----------------|-----------|\n| pendingv       | Cobrança aberta e ainda não paga.      |\n","example":"pendingv"},"wallet":{"type":"string","description":"Nome da conta na qual a cobrança foi criada.","example":"shipay-pagador","enum":["shipay-pagador","foxbit","coinpayments","mercadopago","pagseguro","picpay","tecban","pix"]}}}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","description":"Código de erro","example":"400"},"message":{"type":"string","description":"Mensagem de erro","example":"Bad request"}}}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","description":"Código de erro","example":"401"},"message":{"type":"string","description":"Mensagem de erro","example":"Unauthorized"}}}}}},"403":{"description":"User not authorized","content":{"application/jon":{"schema":{"type":"object","properties":{"code":{"type":"integer","description":"Código de erro","example":"403"},"message":{"type":"string","description":"Mensagem de erro","example":"User not authorized"}}}}}},"422":{"description":"Unprocessable Entity.","content":{"application/jon":{"schema":{"type":"object","properties":{"code":{"type":"integer","description":"Código de erro","example":"422"},"message":{"type":"string","description":"Mensagem de erro","example":"**Unprocessable Entity.**</br> O valor total da cobrança é diferente da somatória dos itens"}}}}}},"500":{"description":"Error creating the order.","content":{"application/jon":{"schema":{"type":"object","properties":{"code":{"type":"integer","description":"Código de erro","example":"500"},"message":{"type":"string","description":"Mensagem de erro","example":"Error creating the order"}}}}}}}}},"/orderv/batch":{"post":{"tags":["Gerenciamento de Cobranças em Lote"],"summary":"Criar Lote de Cobranças com Expiração Variável","requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"external_id":{"type":"string","description":"Identificador externo do lote de cobranças.","example":"cobrança-qualquer-123"},"callback_url":{"type":"string","description":"A URL informada será notificada toda vez que a criação de lotes alterar de status. Para mais detalhes, acessar https://docs.shipay.com.br/faq/#callback.","example":"https://7d703c9451be72658b3fdc0dcf820946.m.pipedream.net"},"orders":{"type":"array","items":{"type":"object","properties":{"allow_amount_change":{"type":"boolean","description":"Parâmetro que indica se o pagador pode realizar o pagamento de um valor diferente da cobrança original.</br>**Se true**, o pagador poderá alterar o valor do pagamento.</br>**Se false**, o pagador só poderá pagar o valor original da cobrança.","example":"true"},"buyer":{"type":"object","properties":{"cpf_cnpj":{"type":"string","description":"Informe um CPF ou CNPJ do devedor (PF ou PJ)</br>Informaões devem ser válidas.","example":"88646743063"},"email":{"type":"string","description":"Endereço de e-mail do devedor.","example":"bob.silva@gmail.com"},"name":{"type":"string","description":"Nome completo do devedor, no caso de PF.</br>Nome da empresa, no caso de PJ.","example":"Bob da Silva"},"phone":{"type":"string","description":"Número de telefone do devedor.","example":"(11) 99999-9999"}},"required":["cpf_cnpj","name"]},"callback_url":{"type":"string","description":"A URL informada será notificada toda vez que a cobrança alterar de status. Para mais detalhes, acessar https://docs.shipay.com.br/faq/#callback.","example":"https://7d703c9451be72658b3fdc0dcf820946.m.pipedream.net"},"expiration":{"type":"integer","description":"Tempo de expiração da cobrança, em segundos.","example":3600},"items":{"type":"array","items":{"type":"object","properties":{"ean":{"type":"string","description":"EAN do item.","example":"0123456789012"},"item_title":{"type":"string","description":"Nome do item (obrigatório).","example":"batata doce"},"quantity":{"type":"number","format":"float","description":"Quantidade do item (obrigatório).","example":2},"sku":{"type":"string","description":"SKU do item.","example":"MTC-6110"},"unit_price":{"type":"number","format":"float","description":"Valor unitário do item (obrigatório).","example":2}},"required":["item_title","quantity","unit_price"]}},"order_ref":{"type":"string","description":"Identificador externo da cobrança.","example":"cobrança-qualquer-123"},"pix_dict_key":{"type":"string","description":"Chave Pix da conta bancária que deve criar a cobrança. Para casos onde você possuir mais de um Pix por loja, você poderá diferenciar a criação por essa chave. Para saber mais: https://docs.shipay.com.br/faq/#mais_de_um_pix_por_loja","example":"carlos@gmail.com"},"total":{"type":"number","format":"float","description":"Valor total da cobrança.</br>Este valor tem que ser sempre igual ao somatório dos valores dos itens.","example":4},"wallet":{"type":"string","description":"Nome da conta utilizada.</br> `shipay-pagador` `foxbit` `coinpayments` `mercadopago` `pagseguro` `picpay` `tecban` `pix`","example":"shipay-pagador"}},"required":["expiration","items","order_ref","pix_dict_key","total","wallet"]}}},"required":["external_id","orders"]},"example":{"callback_url":"https://7d703c9451be72658b3fdc0dcf820946.m.pipedream.net","external_id":"pedido-qualquer-123","orders":[{"allow_amount_change":true,"buyer":{"cpf_cnpj":"88646743063","email":"rob.dias@gmail.com","name":"Roberto Dias","phone":"(11) 99999-9999"},"callback_url":"https://7d703c9451be72658b3fdc0dcf820946.m.pipedream.net","expiration":3600,"items":[{"ean":"0123456789012","item_title":"batata doce","quantity":1,"sku":"MTC-6110","unit_price":1}],"order_ref":"pedido-qualquer-123","total":1,"wallet":"pix"},{"allow_amount_change":true,"buyer":{"cpf_cnpj":"88646743063","email":"rob.dias@gmail.com","name":"Roberto Dias","phone":"(11) 99999-9999"},"callback_url":"https://7d703c9451be72658b3fdc0dcf820946.m.pipedream.net","expiration":3600,"items":[{"ean":"0123456789012","item_title":"pimenta reino","quantity":2,"sku":"MTC-6110","unit_price":3.69}],"order_ref":"pedido-qualquer-234","total":7.98,"wallet":"pix"}]}}}},"security":[{"bearerAuth":[]}],"parameters":[{"name":"authorization","in":"header","schema":{"type":"string","description":"Token de acesso obtido através do serviço de autenticação /pdvauth."},"example":"Bearer","required":true}],"responses":{"201":{"description":"Order Created","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string","description":"Identificador do lote de ordens na Shipay.","example":"439176a8-03bb-489b-82f8-fb679bb97752"}}}}}},"400":{"description":"Bad request.","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","description":"Código de erro.","example":"400"},"message":{"type":"string","description":"Mensagem de erro.","example":"Bad request"}}}}}},"401":{"description":"Unauthorized.","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","description":"Código de erro.","example":"401"},"message":{"type":"string","description":"Mensagem de erro.","example":"Unauthorized"}}}}}},"403":{"description":"User not authorized.","content":{"application/jon":{"schema":{"type":"object","properties":{"code":{"type":"integer","description":"Código de erro.","example":"403"},"message":{"type":"string","description":"Mensagem de erro.","example":"User not authorized"}}}}}},"500":{"description":"Error creating the order batch.","content":{"application/jon":{"schema":{"type":"object","properties":{"code":{"type":"integer","description":"Código de erro.","example":"500"},"message":{"type":"string","description":"Mensagem de erro.","example":"Error creating the order batch"}}}}}}}}},"/orderv/batches":{"get":{"tags":["Gerenciamento de Cobranças em Lote"],"summary":"Retornar uma lista de lotes","parameters":[{"in":"query","name":"start_date","schema":{"type":"string"},"description":"Data inicial do filtro (YYYY-MM-DD).","example":"2021-01-01"},{"in":"query","name":"end_date","schema":{"type":"string"},"description":"Data final do filtro (YYYY-MM-DD).","example":"2021-01-31"},{"in":"query","name":"offset","schema":{"type":"integer"},"description":"Quantidade de registros que foram desconsiderados, desde o primeiro registro, no retorno da consulta.","example":"0"},{"in":"query","name":"limit","schema":{"type":"integer"},"description":"Limite de itens no retorno (padrão 10, max 200).","example":"15"},{"name":"authorization","in":"header","schema":{"type":"string"},"description":"Token de acesso obtido através do serviço de autenticação /pdvauth.","example":"Bearer","required":true}],"security":[{"bearerAuth":[]}],"responses":{"200":{"description":"Retorna uma lista de lotes de ordens com expiração variavel.","content":{"application/json":{"schema":{"type":"object","properties":{"count":{"type":"integer","description":"Total de registros retornados na consulta.","example":"2"},"data":{"description":"Lista de lotes.","type":"array","items":{"type":"object","properties":{"batch_id":{"type":"string","description":"Identificador do lote de orders.","example":"1d899c3c-7784-4ded-a995-ca2d484ddd50"},"callback_url":{"type":"string","description":"URL informada para notificação de alteração de status.","example":"https://7d703c9451be72658b3fdc0dcf820946.m.pipedream.net"},"created_at":{"type":"string","format":"date-time","description":"Data e horário da criação do lote de cobranças.","example":"07-10-2020 17:35:53"},"external_id":{"type":"string","description":"Identificador externo da ordem de lotes.","example":"1d899c3c-7784-4ded-a995-ca2d484ddd50"},"status":{"type":"string","description":"Status do lote de cobranças com expiração variável.\n\n| Status      | Descrição                                      |\n|-------------|------------------------------------------------|\n| processing  | A criação do lote está sendo realizada.                   |\n| finished    | A criação do lote foi finalizado. **Vale lembrar que podem ter cobranças que não foram criadas por algum erro.**          |\n"}}}},"offset":{"type":"integer","description":"Quantidade de registros que foram desconsiderados, desde o primeiro registro, no retorno da consulta.","example":"0"},"total":{"type":"integer","description":"Total de registros no intervalo de data selecionado.","example":"1"}},"example":{"count":2,"data":[{"batch_id":"1d899c3c-7784-a995-4ded-ca2d484aad90","callback_url":"https://7d703c9451be72658b3fdc0dcf820946.m.pipedream.net","created_at":"2022-05-04T19:25:20.258Z","external_id":"xablau1","status":"finished"},{"batch_id":"1d899c3c-7784-4ded-a995-ca2d484ddd50","callback_url":"https://7d703c9451be72658b3fdc0dcf820946.m.pipedream.net","created_at":"2022-07-01T17:24:16.866Z","external_id":"xablau2","status":"processing"}],"offset":0,"total":2}}}}},"400":{"description":"Bad request.","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","description":"Código de erro.","example":"400"},"message":{"type":"string","description":"Mensagem de erro.","example":"Bad request"}}}}}},"401":{"description":"Unauthorized.","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","description":"Código de erro.","example":"401"},"message":{"type":"string","description":"Mensagem de erro.","example":"Unauthorized"}}}}}},"403":{"description":"User not authorized.","content":{"application/jon":{"schema":{"type":"object","properties":{"code":{"type":"integer","description":"Código de erro.","example":"403"},"message":{"type":"string","description":"Mensagem de erro.","example":"User not authorized"}}}}}},"404":{"description":"Batch does not found.","content":{"application/jon":{"schema":{"type":"object","properties":{"code":{"type":"integer","description":"Código de erro.","example":"404"},"message":{"type":"string","description":"Mensagem de erro.","example":"Batch does not found"}}}}}}}}},"/orderv/batch/{batch_id}":{"get":{"tags":["Gerenciamento de Cobranças em Lote"],"summary":"Retornar um Lote Específico","parameters":[{"in":"path","name":"batch_id","schema":{"type":"string"},"required":true,"description":"Identificador externo de lotes na Shipay.","example":"1d899c3c-7784-4ded-a995-ca2d484ddd50"},{"name":"authorization","in":"header","schema":{"type":"string"},"description":"Token de acesso obtido através do serviço de autenticação /pdvauth.","example":"Bearer","required":true}],"security":[{"bearerAuth":[]}],"responses":{"200":{"description":"Retorna um lote de cobrança especifico.","content":{"application/json":{"schema":{"type":"object","properties":{"batch_id":{"type":"string","description":"Identificador do lote de orders.","example":"1d899c3c-7784-4ded-a995-ca2d484ddd50"},"callback_url":{"type":"string","description":"URL informada para notificação de alteração de status.","example":"https://7d703c9451be72658b3fdc0dcf820946.m.pipedream.net"},"count":{"type":"integer","description":"Total de cobranças retornadas na consulta.","example":1},"created_at":{"type":"string","format":"date-time","description":"Data e horário de registro do lote na Shipay.","example":"07-10-2020 17:35:53"},"external_id":{"type":"string","description":"Identificador externo da cobrança.","example":"1d899c3c-7784-4ded-a995-ca2d484ddd50"},"orders":{"type":"array","description":"Lista de itens do ordens do lote.","items":{"type":"object","properties":{"created_at":{"type":"string","format":"date-time","description":"Data de criação da ordem se for criada, caso não seja criada o campo não será exibido.","example":"07-10-2020 17:35:53"},"error_message":{"type":"string","description":"Mensagem de erro em caso de falha na criação da cobrança.","example":"null"},"location_id":{"type":"string","description":"Identificador da location vinculada a ordem. </br> Para mais informações sobre [Serviços de Location](https://shipay.readme.io/reference/post_v1-locations)","example":"1d899c3c-7784-4ded-a995-ca2d484ddd50"},"order_id":{"type":"string","description":"Identificador da ordem na Shipay.","example":"1d899c3c-7784-4ded-a995-ca2d4"},"order_ref":{"type":"string","description":"Identificador externo da cobrança.","example":"cobrança-qualquer-123"},"qr_code_text":{"type":"string","description":"QR Code em formato de texto (facilitando a impressão do QR Code em impressora térmica). No caso de Pix, esse campo é o código utilizado para a funcionalidade \"copia e cola\".","example":"00020101021226770014br.gov.bcb.pix2555api.itau/pix/qr/v2/9962d0b6-97ae-41b2-98ba-49a965ed59e852040000530398654040.015802BR5915loja da ***6304D1CF"},"status":{"type":"string","description":"Status da cobranças com expiração variável.\n\n| Status      | Descrição                                      |\n|-------------|------------------------------------------------|\n| created  | A criação da cobrança foi realizada.                   |\n| not_created    | Houve erro durante a criação da cobrança.          |\n","enum":["created","not_created"]},"total_order":{"type":"number","format":"float","description":"Número identificador da ordem."}}}},"status":{"type":"string","description":"Status do lote de cobranças com expiração variável.\n\n| Status      | Descrição                                      |\n|-------------|------------------------------------------------|\n| processing  | A criação do lote está sendo realizada.                   |\n| finished    | A criação do lote foi finalizado. **Vale lembrar que podem ter cobranças que não foram criadas por algum erro.**          |\n"},"total":{"type":"integer","description":"O número total de ordens no lote.","example":1}}}}}},"400":{"description":"Bad request.","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","description":"Código de erro.","example":"400"},"message":{"type":"string","description":"Mensagem de erro.","example":"Bad request"}}}}}},"401":{"description":"Unauthorized.","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","description":"Código de erro.","example":"401"},"message":{"type":"string","description":"Mensagem de erro.","example":"Unauthorized"}}}}}},"403":{"description":"User not authorized.","content":{"application/jon":{"schema":{"type":"object","properties":{"code":{"type":"integer","description":"Código de erro.","example":"403"},"message":{"type":"string","description":"Mensagem de erro.","example":"User not authorized"}}}}}},"404":{"description":"Batch does not found.","content":{"application/jon":{"schema":{"type":"object","properties":{"code":{"type":"integer","description":"Código de erro.","example":"404"},"message":{"type":"string","description":"Mensagem de erro.","example":"Batch does not found"}}}}}}}}},"/orderv/{order_id}":{"get":{"tags":["Gerenciamento de Cobranças Pix com Expiração Variável"],"summary":"Retornar status da cobrança na Shipay","parameters":[{"in":"path","name":"order_id","schema":{"type":"string"},"required":true,"description":"Identificador da cobrança na Shipay.","example":"f92d30a8-499d-4f46-bcf2-8d689ad7b5f7"},{"in":"header","name":"authorization","schema":{"type":"string"},"required":true,"description":"Token de acesso obtido através do serviço de autenticação /pdvauth.","example":"Bearer"}],"security":[{"bearerAuth":[]}],"responses":{"200":{"description":"Order Status.","content":{"application/json":{"schema":{"type":"object","properties":{"buyer_info":{"type":"object","properties":{"address":{"type":"string","description":"Endereço do devedor.","example":"Rua nome da rua"},"city":{"type":"string","description":"Cidade do devedor.","example":"cidade123"},"document":{"type":"string","description":"CPF ou CNPJ do devedor.","example":"88646743063"},"email":{"type":"string","description":"E-mail do devedor.","example":"rob.dias@gmail.com"},"first_name":{"type":"string","description":"Primeiro nome do devedor.","example":"Roberto"},"last_name":{"type":"string","description":"Sobrenome do devedor.","example":"Dias"},"phone":{"type":"string","description":"Telefone do devedor.","example":"(11) 99999-9999"},"state":{"type":"string","description":"Estado(UF) do devedor.","example":"EstadoUF123"}}},"created_at":{"type":"string","format":"date-time","description":"Data e horário da criação da cobrança.","example":"07-10-2020 17:35:53"},"expiration_date":{"type":"string","format":"date-time","description":"Data da expiração da cobrança, baseado no valor declarado em \"expiration\" da requisição.","example":"2021-05-13T18:58:20.000Z"},"external_id":{"type":"string","description":"Identificador externo da cobrança (igual ao order_ref do POST /orderv ou /order-due-date).","example":"cobrança-qualquer-123"},"items":{"type":"array","items":{"type":"object","properties":{"name":{"type":"string","description":"Nome do item.","example":"batata doce"},"quantity":{"type":"number","format":"float","description":"Quantidade do item.","example":2},"unit_price":{"type":"number","description":"Valor unitário do item.","example":2}}}},"order_id":{"type":"string","description":"Identificador da cobrança na Shipay.","example":"f92d30a8-499d-4f46-bcf2-8d689ad7b5f7"},"paid_amount":{"type":"number","description":"Valor pago pelo cliente. Utilizado para o sistema integrado verificar se o valor pago é igual ao valor da cobrança.","example":4},"payment_date":{"type":"string","format":"date-time","description":"Data e horário do pagamento.","example":"07-10-2020 17:45:51"},"pix_psp":{"type":"string","description":"Nome do provedor de serviço de pagamentos (PSP) no qual a cobrança Pix foi gerada. No caso de cobranças realizadas com carteiras digitais (exceto Pix), o retorno será \"null\".","enum":["bb","bradesco","itau_anybank","mercadopago","picpay_anybank","pagseguro","santander","sicredi","tbanks"]},"status":{"type":"string","description":"Status da cobrança. Neste caso, os status possíveis são:\n\n| status         | descrição |\n|----------------|-----------|\n| pendingv       | Cobrança aberta e ainda não paga      |\n| approved       | Cobrança aprovada na conta associada |\n| cancelled      | Cobrança (ainda não paga) cancelada na conta associada |\n| expired        | Cobrança expirada sem pagamento |\n| refunded       | Pagamento devolvido ao comprador |\n| refund_pending | Devolução do pagamento solicitada. Status para PSPs assíncronos. O status fica até que o psp retorne se realizou ou não a devolução. |\n"},"total_order":{"type":"number","format":"float","description":"Valor total da cobrança.","example":4},"updated_at":{"type":"string","format":"date-time","description":"Última atualização da cobrança (data e horário).","example":"07-10-2020 17:42:06"},"wallet":{"type":"string","description":"Nome da conta na qual a cobrança foi criada.","example":"shipay-pagador","enum":["shipay-pagador","foxbit","coinpayments","mercadopago","pagseguro","picpay","tecban","pix"]},"wallet_payment_id":{"type":"string","description":"Identificador do pagamento da cobrança. No caso de cobranças ainda não pagos, o retorno é \"null\".","example":"E00416968202108252013ScmJ9C0AUYK"}},"required":["wallet","items","name","quantity","unit_price"],"x-readme-ref-name":"OrdervResponse"}}}},"401":{"description":"Unauthorized.","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","description":"Código de erro.","example":"401"},"message":{"type":"string","description":"Mensagem de erro.","example":"Unauthorized"}}}}}},"403":{"description":"Permission Denied.","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","description":"Código de erro.","example":"403"},"message":{"type":"string","description":"Mensagem de erro.","example":"Permission Denied"}}}}}},"404":{"description":"Order not Found.","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","description":"Código de erro.","example":"404"},"message":{"type":"string","description":"Mensagem de erro.","example":"Order not Found"}}}}}},"500":{"description":"Error creating the order.","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","description":"Código de erro.","example":"500"},"message":{"type":"string","description":"Mensagem de erro.","example":"Error creating the order"}}}}}}}}},"/orders/list":{"get":{"tags":["Gerenciamento de Cobranças Pix com Expiração Variável"],"summary":"Retornar uma lista de cobranças","parameters":[{"in":"query","name":"store_id","schema":{"type":"string"},"description":"Identificador da loja criada na Shipay.","example":"3ae79cb0-4219-a67ab4-8ef4-4b0bfd2403"},{"in":"query","name":"order_id","schema":{"type":"string"},"description":"Identificador da cobrança na Shipay.","example":"9dae4296-8baa2fe-1200-9157-47e23e1ec"},{"in":"query","name":"psp_provider","schema":{"type":"string"},"description":"Nome do PSP.","example":"null"},{"in":"query","name":"status","schema":{"type":"string"},"description":"Status da cobrança na Shipay.","example":"pending"},{"in":"query","name":"external_id","schema":{"type":"string"},"description":"Número de referência do pedido no sistema de PDV (igual ao 'order_ref' do POST /order).","example":"pedido-qualquer-123"},{"in":"query","name":"customer_id","schema":{"type":"string"},"description":"Identificador do customer na Shipay.","example":"be396fee-ddc0-4a45-b169-5c271f88be7b"},{"in":"query","name":"offset","schema":{"type":"string"},"description":"Página atual.","example":"0"},{"in":"query","name":"limit","schema":{"type":"string"},"description":"Limite de registros por página.","example":"10"},{"in":"query","name":"start_date","schema":{"type":"string"},"description":"Data e horário inicial do filtro (YYYY-MM-DDT00:00:00), em UTC+0.","example":"2024-10-28T00:00:00"},{"in":"query","name":"end_date","schema":{"type":"string"},"description":"Data e horário final do filtro (YYYY-MM-DDT23:59:59), em UTC+0.","example":"2024-10-28T23:59:59"},{"in":"query","name":"payment_start_date","schema":{"type":"string"},"description":"Data e horário inicial do pagamento (YYYY-MM-DDT00:00:00), em UTC+0.","example":"2024-10-29T00:00:00"},{"in":"query","name":"payment_end_date","schema":{"type":"string"},"description":"Data e horário final do pagamento (YYYY-MM-DDT23:59:59), em UTC+0.","example":"2024-10-29T23:59:59"},{"name":"authorization","in":"header","schema":{"type":"string"},"description":"Token de acesso obtido através do serviço de autenticação /pdvauth.","example":"Bearer","required":true}],"security":[{"bearerAuth":[]}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"count":{"type":"integer","description":"Número total de itens no resultado.","example":1},"data":{"type":"array","items":{"type":"object","properties":{"customer_id":{"type":"string","description":"Identificador único do cliente.","example":"d6e111d84c-f2aa-69e7-8EC1-ba88fb8f84"},"customer_name":{"type":"string","description":"Nome do cliente.","example":"Teste Customer"},"order_created_at":{"type":"string","format":"date-time","description":"Data e hora da criação da cobrança.","example":"2024-10-28 17:34:13"},"order_expiration_date":{"type":"string","description":"Data de expiração da cobrança, caso exista. Caso contrário, retorna 'null'.","example":"null"},"order_id":{"type":"string","description":"Identificador da cobrança na Shipay.","example":"9da1200e-e1ec-4296-9157-47e28baa2fe3"},"order_payment_date":{"type":"string","description":"Data de pagamento da cobrança. Caso não conste pagamento, o retorno será 'null'.","example":"null"},"order_updated_at":{"type":"string","format":"date-time","description":"Data e hora da última atualização da cobrança.","example":"2024-10-28 18:34:16"},"payment_method":{"type":"string","description":"Método de pagamento utilizado.","example":"shipay-pagador"},"status":{"type":"string","description":"Status atual da cobrança. Neste caso, os status possíveis são:\n\n| status            | descrição                                                                                                                                                                                                                                                                                          |\n|-------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| cancelled         | Cobrança (ainda não paga) cancelado no PSP.                                                                                                                                                                                                                                          |\n| expired           | Cobrança expirado após o prazo determinado de vencimento com status \"pending\".                                                                                                                                                                                                                                       |\n| refunded          | Pagamento devolvido ao comprador.                                                                                                                                                                                                                                                              |\n| partial_refunded  | Valor parcial do pagamento devolvido ao comprador.                                                                                                                                                                                                                                               |\n| refund_pending    | Devolução do pagamento solicitada. Status para PSPs assíncronos. O status fica até que o psp retorne se realizou ou não a devolução. |\n| pending           | Cobrança pendente. Neste caso, a requisição de **cancelamento** falhou no PSP e a cobrança continua pendente.                                                                                                                                                                          |\n| approved          | Cobrança aprovado. Neste caso, a requisição de **devolução** falhou no PSP e a cobrança continua aprovado.                                                                                                                                                                               |\n","example":"pending"},"store_id":{"type":"string","description":"Identificador da loja na Shipay.","example":"3ae77a-2898-4403-8ef4-4b0ba6b4fd9cb0"},"store_name":{"type":"string","description":"Nome da loja na Shipay.","example":"Loja Teste"},"store_pos_id":{"type":"string","description":"Identificador da loja.","example":"275c4952be5cf1b1f9a584c8844acc8e"},"store_pos_name":{"type":"string","description":"Nome do caixa associado a loja.","example":"Caixa 01"},"total_order":{"type":"number","format":"float","description":"Valor total do pedido.","example":4},"wallet_payment_id":{"type":"string","description":"Identificador do pagamento da cobrança na Shipay. No caso de cobranças que não foram pagas, o retorno será \"null\".","example":"null"}}}},"offset":{"type":"integer","description":"Quantidade de registros que foram desconsiderados, desde o primeiro registro, no retorno da consulta.","example":0},"total":{"type":"integer","description":"Número total de registros.","example":1}}}}}}}}},"/order/{order_id}":{"delete":{"tags":["Gerenciamento de Cobranças Pix com Expiração Variável"],"summary":"Cancelar uma cobrança pendente.","parameters":[{"in":"path","name":"order_id","schema":{"type":"string"},"required":true,"description":"Identificador da cobrança na Shipay.","example":"f92d30a8-499d-4f46-bcf2-8d689ad7b5f7"},{"in":"header","name":"authorization","schema":{"type":"string"},"required":true,"description":"Token de acesso obtido através do serviço de autenticação /pdvauth.","example":"Bearer"}],"security":[{"bearerAuth":[]}],"responses":{"200":{"description":"Cancelamento de Cobranças pendentes.","content":{"application/json":{"schema":{"type":"object","properties":{"order_id":{"type":"string","description":"Identificador da cobrança na Shipay.","example":"652f385f-91f4-48cd-8e56-1fc6dec21526"},"status":{"description":"Status atual da cobrança. Neste caso, os status possíveis são:\n\n| status            | descrição                                                                                                                                                                                                                                                                                          |\n|-------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| cancelled         | Cobrança (ainda não paga) cancelado no PSP.                                                                                                                                                                                                                                          |\n| expired           | Cobrança expirado após **60 minutos** com status \"pending\"                                                                                                                                                                                                                                       |\n| refunded          | Pagamento devolvido ao comprador                                                                                                                                                                                                                                                                   |\n| partial_refunded  | Valor parcial do pagamento devolvido ao comprador                                                                                                                                                                                                                                               |\n| refund_pending    | Devolução do pagamento solicitada. Status para PSPs assíncronos. O status fica até que o psp retorne se realizou ou não a devolução. |\n| pending           | Cobrança pendente. Neste caso, a requisição de **cancelamento** falhou no PSP e a cobrança continua pendente.                                                                                                                                                                          |\n| approved          | Cobrança aprovado. Neste caso, a requisição de **devolução** falhou no PSP e a cobrança continua aprovado.                                                                                                                                                                               |\n","example":"cancelled","type":"string"}}}}}},"401":{"description":"Unauthorized.","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","description":"Código de erro.","example":"401"},"message":{"type":"string","description":"Mensagem de erro.","example":"Unauthorized"}}}}}},"403":{"description":"Permission Denied.","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","description":"Código de erro.","example":"403"},"message":{"type":"string","description":"Mensagem de erro.","example":"Permission Denied"}}}}}},"404":{"description":"Order not Found.","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","description":"Código de erro.","example":"404"},"message":{"type":"string","description":"Mensagem de erro.","example":"Order not Found"}}}}}},"500":{"description":"Error creating the order.","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","description":"Código de erro.","example":"500"},"message":{"type":"string","description":"Mensagem de erro.","example":"Error creating the order"}}}}}}}}},"/order/{order_id}/refund":{"delete":{"tags":["Gerenciamento de Cobranças Pix com Expiração Variável"],"summary":"Realizar devolução do pagamento de uma Cobrança","parameters":[{"in":"path","name":"order_id","schema":{"type":"string"},"required":true,"description":"Identificador da cobrança na Shipay.","example":"f92d30a8-499d-4f46-bcf2-8d689ad7b5f7"},{"in":"header","name":"authorization","schema":{"type":"string"},"required":true,"description":"Token de acesso obtido através do serviço de autenticação /pdvauth.","example":"Bearer"}],"security":[{"bearerAuth":[]}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"amount":{"type":"number","description":"Valor a ser devolvido.</br>Este valor tem que ser no máximo igual ao valor total do pedido.","example":5}}}}}},"responses":{"200":{"description":"Devolução de valores pagos de Cobranças.","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","description":"Mensagem relativa a operação feita.","example":"R$ 1.0 has been refunded."},"order_id":{"type":"string","description":"Identificador da cobrança na Shipay.","example":"652f385f-91f4-48cd-8e56-1fc6dec21526"},"status":{"description":"Status atual da cobrança. Neste caso, os status possíveis são:\n\n| status           | descrição                                                                                                                                                                                                                                                                                          |\n|------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| refunded          | Pagamento devolvido ao comprador                                                                                                                                                                                                                                                                   |\n| partial_refunded  | Valor parcial do pagamento devolvido ao comprador                                                                                                                                                                                                                                                  |\n| refund_pending    | Devolução do pagamento solicitada. Status para PSPs assíncronos. O status fica até que o psp retorne se realizou ou não a devolução. |\n| approved          | Cobrança aprovado. Neste caso, a requisição de devolução falhou no PSP e a cobrança continua aprovado.                                                                                                                                                                                      |\n","example":"refunded","type":"string"}}}}}},"400":{"description":"Bad request.","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","description":"Código de erro.","example":"400"},"message":{"type":"string","description":"Mensagem de erro.","example":"Bad request"}}}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","description":"Código de erro.","example":"401"},"message":{"type":"string","description":"Mensagem de erro.","example":"Unauthorized"}}}}}},"403":{"description":"User not authorized.","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","description":"Código de erro.","example":"403"},"message":{"type":"string","description":"Mensagem de erro.","example":"User not authorized"}}}}}},"500":{"description":"Error creating the order.","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","description":"Código de erro.","example":"500"},"message":{"type":"string","description":"Mensagem de erro.","example":"Error creating the order"}}}}}}}}}},"components":{"securitySchemes":{"bearerAuth":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}},"schemas":{"AuthResponse":{"type":"object","properties":{"access_token":{"type":"string","description":""},"refresh_token":{"type":"string","description":""},"access_token_expires_in":{"type":"integer","description":""},"refresh_token_expires_in":{"type":"integer","description":""},"token_type":{"type":"string","description":""}},"x-readme-ref-name":"AuthResponse"},"OrdervResponse":{"type":"object","properties":{"buyer_info":{"type":"object","properties":{"address":{"type":"string","description":"Endereço do devedor.","example":"Rua nome da rua"},"city":{"type":"string","description":"Cidade do devedor.","example":"cidade123"},"document":{"type":"string","description":"CPF ou CNPJ do devedor.","example":"88646743063"},"email":{"type":"string","description":"E-mail do devedor.","example":"rob.dias@gmail.com"},"first_name":{"type":"string","description":"Primeiro nome do devedor.","example":"Roberto"},"last_name":{"type":"string","description":"Sobrenome do devedor.","example":"Dias"},"phone":{"type":"string","description":"Telefone do devedor.","example":"(11) 99999-9999"},"state":{"type":"string","description":"Estado(UF) do devedor.","example":"EstadoUF123"}}},"created_at":{"type":"string","format":"date-time","description":"Data e horário da criação da cobrança.","example":"07-10-2020 17:35:53"},"expiration_date":{"type":"string","format":"date-time","description":"Data da expiração da cobrança, baseado no valor declarado em \"expiration\" da requisição.","example":"2021-05-13T18:58:20.000Z"},"external_id":{"type":"string","description":"Identificador externo da cobrança (igual ao order_ref do POST /orderv ou /order-due-date).","example":"cobrança-qualquer-123"},"items":{"type":"array","items":{"type":"object","properties":{"name":{"type":"string","description":"Nome do item.","example":"batata doce"},"quantity":{"type":"number","format":"float","description":"Quantidade do item.","example":2},"unit_price":{"type":"number","description":"Valor unitário do item.","example":2}}}},"order_id":{"type":"string","description":"Identificador da cobrança na Shipay.","example":"f92d30a8-499d-4f46-bcf2-8d689ad7b5f7"},"paid_amount":{"type":"number","description":"Valor pago pelo cliente. Utilizado para o sistema integrado verificar se o valor pago é igual ao valor da cobrança.","example":4},"payment_date":{"type":"string","format":"date-time","description":"Data e horário do pagamento.","example":"07-10-2020 17:45:51"},"pix_psp":{"type":"string","description":"Nome do provedor de serviço de pagamentos (PSP) no qual a cobrança Pix foi gerada. No caso de cobranças realizadas com carteiras digitais (exceto Pix), o retorno será \"null\".","enum":["bb","bradesco","itau_anybank","mercadopago","picpay_anybank","pagseguro","santander","sicredi","tbanks"]},"status":{"type":"string","description":"Status da cobrança. Neste caso, os status possíveis são:\n\n| status         | descrição |\n|----------------|-----------|\n| pendingv       | Cobrança aberta e ainda não paga      |\n| approved       | Cobrança aprovada na conta associada |\n| cancelled      | Cobrança (ainda não paga) cancelada na conta associada |\n| expired        | Cobrança expirada sem pagamento |\n| refunded       | Pagamento devolvido ao comprador |\n| refund_pending | Devolução do pagamento solicitada. Status para PSPs assíncronos. O status fica até que o psp retorne se realizou ou não a devolução. |\n"},"total_order":{"type":"number","format":"float","description":"Valor total da cobrança.","example":4},"updated_at":{"type":"string","format":"date-time","description":"Última atualização da cobrança (data e horário).","example":"07-10-2020 17:42:06"},"wallet":{"type":"string","description":"Nome da conta na qual a cobrança foi criada.","example":"shipay-pagador","enum":["shipay-pagador","foxbit","coinpayments","mercadopago","pagseguro","picpay","tecban","pix"]},"wallet_payment_id":{"type":"string","description":"Identificador do pagamento da cobrança. No caso de cobranças ainda não pagos, o retorno é \"null\".","example":"E00416968202108252013ScmJ9C0AUYK"}},"required":["wallet","items","name","quantity","unit_price"],"x-readme-ref-name":"OrdervResponse"}}},"x-readme":{"explorer-enabled":true,"proxy-enabled":true}}