{"openapi":"3.1.0","info":{"title":"Cobranças para Pagamento Imediato","version":"1.0.0","description":""},"servers":[{"url":"https://api-staging.shipay.com.br","description":"Ambiente de staging da API Shipay"}],"paths":{"/pdvauth":{"post":{"tags":["Serviços de autenticação"],"summary":"Autenticação para acesso aos serviços transacionais","requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"access_key":{"type":"string","description":"Access Key do Cliente.","example":"DFt7Oqzn_LGyYnDGLwX7oA"},"secret_key":{"type":"string","description":"Secret Key do Cliente.","example":"dNiIFM34DSvKIAubw9nfJL7qrFWFoYKLSeHTPVOyNcEBw-7oTROVK3mq5mbzR_h_emcxZAaWyjmFsd7TVdeBmZ"},"client_id":{"type":"string","description":"Client ID do Caixa.","example":"GilnDDsTSTP73uVXm1C_A8ANAGTkoLler3MgpxPi04Z5mfc18cSG93-9PTlhN8nqKXfQOJ4rEOvDGcjT81Nwu_b6jPbYG3cZZ3YO5ZgqflA9AmRZzUv1TBDSP0sxYzplJvHmIlUw"}},"required":["access_key","secret_key","client_id"]}}}},"responses":{"200":{"description":"PDV Authenticated.","content":{"application/json":{"schema":{"type":"object","properties":{"access_token":{"type":"string","description":"Token de acesso do sistema autenticado.","example":"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE3MjY4NTUwMTAsIm5iZiI6MTcyNjg1NTAxMCwianRpIjoiMjUyY2I1YjEtZGFiZC00MmFlLThkZDAtZmMxNDFiYzAxNzg4IiwiZXhwIjoxNzI2ODY5NDEwLCJpZGVudGl0eSI6eyJhdXRoX3R5cGUiOiJjbGllbnQiLCJjdXN0b21lcl9pZCI6Miwic3RvcmVfcG9zX2lkIjo5MTI2fSwiZnJlc2giOmZhbHNlLCJ0eXBlIjoiYWNjZXNzIn0.wbM6iSn5RWy44av-Rzii6b6Uv5HSzXuUxx-TKC-q48Q"},"access_token_expires_in":{"type":"integer","description":"Tempo de vida em segundos do token de acesso.","example":"14400"},"refresh_token":{"type":"string","description":"Token de atualização do sistema autenticado.","example":"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE2MzA0Mjc5NDUsIm5iZiI6MTYzMDQyNzk0NSwianRpIjoiMDc1YjExOGYtZjE4Ni00MzVlLWIyMDUtNGMyNzgyZTUwNzczIiwiZXhwIjoxNjMzMDE5OTQ1LCJpZGVudGl0eSI6eyJhdXRoX3R5cGUiOiJjbGllbnQiLCJjdXN0b21lcl9pZCI6Miwic3RvcmVfcG9zX2lkIjozNTd9LCJ0eXBlIjoicmVmcmVzaCJ9.tYPOrCHLjdciDxYLwgVqt4I6tiDoAZBv4-6T5e8ocA"},"refresh_token_expires_in":{"type":"integer","description":"Tempo de vida em segundos do token de atualização.","example":"28800"},"token_type":{"type":"string","description":"Tipo dos tokens.","example":"Bearer"}}}}}},"401":{"description":"Unauthenticated Client.","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","description":"Código de erro.","example":"401"},"message":{"type":"string","description":"Mensagem de erro.","example":"Unauthenticated User."}}}}}}}}},"/refresh-token":{"post":{"tags":["Serviços de autenticação"],"summary":"Atualizar o Token de Acesso","requestBody":{"content":{}},"security":[{"bearerAuth":[]}],"parameters":[{"name":"authorization","in":"header","schema":{"type":"string","description":"Referesh token obtido através do serviço de [Autenticação para acesso aos serviços transacionais](https://shipay.readme.io/reference/post_pdvauth-5)"},"example":"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE3MjY4NTUwMTAsIm5iZiI6MTcyNjg1NTAxMCwianRpIjoiMjUyY2I1YjEtZGFiZC00MmFlLThkZDAtZmMxNDFiYzAxNzg4IiwiZXhwIjoxNzI2ODY5NDEwLCJpZGVudGl0eSI6eyJhdXRoX3R5cGUiOiJjbGllbnQiLCJjdXN0b21lcl9pZCI6Miwic3RvcmVfcG9zX2lkIjo5MTI2fSwiZnJlc2giOmZhbHNlLCJ0eXBlIjoiYWNjZXNzIn0.wbM6iSn5RWy44av-Rzii6b6Uv5HSzXuUxx-TKC-q48Q","required":true}],"responses":{"200":{"description":"Token Refreshed.","content":{"application/json":{"schema":{"type":"object","properties":{"access_token":{"type":"string","description":"Token de acesso do sistema autenticado.","example":"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE3MjY4NTUwMTAsIm5iZiI6MTcyNjg1NTAxMCwianRpIjoiMjUyY2I1YjEtZGFiZC00MmFlLThkZDAtZmMxNDFiYzAxNzg4IiwiZXhwIjoxNzI2ODY5NDEwLCJpZGVudGl0eSI6eyJhdXRoX3R5cGUiOiJjbGllbnQiLCJjdXN0b21lcl9pZCI6Miwic3RvcmVfcG9zX2lkIjo5MTI2fSwiZnJlc2giOmZhbHNlLCJ0eXBlIjoiYWNjZXNzIn0.wbM6iSn5RWy44av-Rzii6b6Uv5HSzXuUxx-TKC-q48Q"},"access_token_expires_in":{"type":"integer","description":"Tempo de vida em segundos do token de acesso.","example":"14400"},"refresh_token":{"type":"string","description":"Token de atualização do sistema autenticado.","example":"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE2MzA0Mjc5NDUsIm5iZiI6MTYzMDQyNzk0NSwianRpIjoiMDc1YjExOGYtZjE4Ni00MzVlLWIyMDUtNGMyNzgyZTUwNzczIiwiZXhwIjoxNjMzMDE5OTQ1LCJpZGVudGl0eSI6eyJhdXRoX3R5cGUiOiJjbGllbnQiLCJjdXN0b21lcl9pZCI6Miwic3RvcmVfcG9zX2lkIjozNTd9LCJ0eXBlIjoicmVmcmVzaCJ9.tYPOrCHLjdciDxYLwgVqt4I6tiDoAZBv4-6T5e8ocA"},"refresh_token_expires_in":{"type":"integer","description":"Tempo de vida em segundos do token de atualização.","example":"28800"},"token_type":{"type":"string","description":"Tipo do token.","example":"Bearer"}}}}}},"401":{"description":"Unauthenticated Client.","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","description":"Código de erro.","example":"401"},"message":{"type":"string","description":"Mensagem de erro.","example":"Unauthenticated User."}}}}}}}}},"/v1/wallets":{"get":{"tags":["Gerenciamento de Cobranças para Pagamento Imediato"],"summary":"Lista de contas associadas à loja","security":[{"bearerAuth":[]}],"parameters":[{"name":"authorization","in":"header","description":"Token de acesso obtido através do serviço de autenticação /pdvauth.","schema":{"type":"string"},"example":"Bearer","required":true}],"responses":{"200":{"description":"Order Refunded","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","properties":{"logo":{"type":"string","description":"Logo da conta associada.","example":"https://storage.googleapis.com/providers-images-production/e-wallets/icons/pix.svg"},"friendly_name":{"type":"string","description":"Nome amigável da conta associada.","example":"Mercado Pago"},"pix_dict_key":{"type":"string","description":"Chave Pix da conta bancária cadastrada na Shipay. No caso de carteiras digitais, terá o valor \"null\".","example":"null"},"wallet_setting_id":{"type":"string","description":"Identificador da conta associada na Shipay.","example":"3907ec23-70da-4802-a685-712cb5357fc7"},"active":{"type":"boolean","description":"Status da conta associada na Shipay.","example":true},"pix_psp":{"type":"string","description":"Nome do provedor de serviço de pagamentos (PSP) da conta bancária cadastrada na Shipay. Quando for carteira digital será \"null\".","enum":["bb","bnb","bradesco","bs2","itau","itau_anybank","itau_anybank_v2","mercadopago","pagseguro","picpay_anybank","santander","sicredi","sicoob","tbanks"],"example":"null"},"transaction_type":{"type":"string","description":"Tipo da conta cadastrada. </br> `cashin` `cashout`","example":"cashin"},"wallet":{"type":"string","description":"Nome da conta associada na qual a cobrança foi criada. No caso de Pix, o valor desse campo é \"pix\", independente do provedor de serviço de pagamentos (PSP).","enum":["foxbit","coinpayments","mercadopago","pagseguro","picpay","tecban","pix"],"example":"mercadopago"},"wallet_setting_name":{"type":"string","description":"Apelido da conta associada que foi configurada no painel Shipay.","example":"mp"},"minimum_payment":{"type":"number","description":"Valor mínimo que pode ser realizado com a conta associada.","example":"0.5"},"default":{"type":"boolean","description":"Se a conta associada está como \"Pix padrão\" na loja autenticada.","example":true}}}}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","description":"Código de erro.","example":"401"},"message":{"type":"string","description":"Mensagem de erro.","example":"Unauthorized"}}}}}},"500":{"description":"Error creating the order","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","description":"Código de erro.","example":"500"},"message":{"type":"string","description":"Mensagem de erro.","example":"Error creating the order"}}}}}}}}},"/order":{"post":{"tags":["Gerenciamento de Cobranças para Pagamento Imediato"],"summary":"Criar uma cobrança para pagamentos imediatos","parameters":[{"name":"authorization","in":"header","description":"Token de acesso obtido através do serviço de autenticação /pdvauth.","schema":{"type":"string"},"example":"Bearer","required":true},{"name":"x-shipay-order-type","in":"header","description":"O header se torna obrigatório caso o caixa esteja configurado como e-commerce e em casos de utilização do mercadopago, seja ele Pix ou carteira digital.","schema":{"type":"string","example":"e-order"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"buyer":{"type":"object","description":"Informações do devedor.","properties":{"cpf_cnpj":{"type":"string","description":"Informe um CPF ou CNPJ válido do devedor.</br>","example":"88646743063"},"email":{"type":"string","description":"Endereço de e-mail do devedor.","example":"bob.silva@email.com"},"name":{"type":"string","description":"Nome de identificação do devedor.","example":"Bob da Silva"},"phone":{"type":"string","description":"Número de telefone do devedor","example":"(11) 99999-9999"}},"required":["cpf_cnpj","name"]},"callback_url":{"type":"string","description":"A URL informada será notificada toda vez que a cobrança alterar de status. Para mais detalhes, acessar https://docs.shipay.com.br/faq/#callback.","example":"https://7d703c9451be72658b3fdc0dcf820946.m.pipedream.net"},"items":{"type":"array","description":"Lista de itens da cobrança. É obrigatório enviar ao menos um item. No caso de pagamento parcial, ver https://docs.shipay.com.br/faq/#pagamento_parcial.","items":{"type":"object","properties":{"ean":{"type":"string","description":"EAN do item.","example":"código do item"},"item_title":{"type":"string","description":"Nome do item.","example":"nome do item"},"quantity":{"type":"number","description":"Quantidade do item.","example":"1"},"sku":{"type":"string","description":"SKU do item.","example":"MTC-6110"},"unit_price":{"type":"number","description":"Valor unitário do item.","example":"1"}},"required":["item_title","quantity","unit_price"]}},"order_ref":{"type":"string","description":"Identificador externo da cobrança.","example":"nome-da-cobrança"},"total":{"type":"number","description":"Valor total da cobrança.","example":"1.0"},"wallet":{"type":"string","description":"Nome da conta utilizada.</br> `shipay-pagador` `foxbit` `coinpayments` `mercadopago` `pagseguro` `picpay` `tecban` `pix`","example":"shipay-pagador"},"pix_dict_key":{"type":"string","description":"Chave Pix da conta bancária que deve criar a cobrança. Para casos onde você possuir mais de um Pix por loja, você poderá diferenciar a criação por essa chave. Para saber mais: https://docs.shipay.com.br/faq/#mais_de_um_pix_por_loja","example":"c7640914-46Fe-4c7d-8664-cf77e8bfeb5c"}},"required":["items","order_ref","total","wallet"]}}}},"responses":{"200":{"description":"Order Created","content":{"application/json":{"schema":{"type":"object","properties":{"deep_link":{"type":"string","description":"URL que redireciona o usuário para o aplicativo da conta associada. No caso de cobranças Pix, esse campo retorna \"null\".","example":"null"},"order_id":{"type":"string","description":"Identificador da cobrança na Shipay.","example":"652f385f-91f4-48cd-8e56-1fc6dec21526"},"pix_dict_key":{"type":"string","description":"Chave Pix da conta bancária que criou a cobrança. No caso de cobranças com carteiras digitais, este objeto tem o valor \"null\".","example":"c7640914-46Fe-4c7d-8664-cf77e8bfeb5c"},"pix_psp":{"type":"string","description":"Nome do provedor de serviço de pagamentos (PSP) no qual a cobrança Pix foi gerada. No caso de cobranças realizadas com carteiras digitais (exceto Pix), o retorno será \"null\".","enum":["bb","bnb","bradesco","bs2","itau","itau_anybank","itau_anybank_v2","mercadopago","pagseguro","picpay_anybank","santander","sicredi","sicoob","tbanks"],"example":"null"},"qr_code":{"type":"string","description":"QR Code em imagem, codificado em Base64.","example":"\"data:image/png;base64,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\""},"qr_code_text":{"type":"string","description":"QR Code em formato de texto (facilitando a impressão do QR Code em impressora térmica). No caso de Pix, esse campo é o código utilizado para a funcionalidade \"copia e cola\".","example":"00020101021226850014br.gov.bcb.pix2563qrcodepix.bb.com.br/pix/v2/70fcfe1e-f583-4dc7-87fa-924dba5247eb52040000530398654040.015802BR5915lojada ***6304A161"},"status":{"type":"string","description":"Status da cobrança. Neste caso, o único status possível é:\n\n| status         | descrição |\n|----------------|-----------|\n| pending       | Cobrança aberta e ainda não paga.      |\n","example":"pending"},"wallet":{"type":"string","description":"Nome da conta associada na qual a cobrança foi criada. No caso de Pix, o valor desse campo é \"pix\", independente do provedor de serviço de pagamentos (PSP).","example":"sihpay-pagador"}}}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","description":"Código de erro","example":"400"},"message":{"type":"string","description":"Mensagem de erro","example":"Bad request"}}}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","description":"Código de erro","example":"401"},"message":{"type":"string","description":"Mensagem de erro","example":"Unauthorized"}}}}}},"403":{"description":"User not authorized","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","description":"Código de erro","example":"403"},"message":{"type":"string","description":"Mensagem de erro","example":"User not authorized"}}}}}},"500":{"description":"Error creating the order","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","description":"Código de erro","example":"500"},"message":{"type":"string","description":"Mensagem de erro","example":"Error creating the order"}}}}}}}}},"/order/{order_id}":{"get":{"tags":["Gerenciamento de Cobranças para Pagamento Imediato"],"summary":"Retornar status da cobrança na Shipay","parameters":[{"in":"path","name":"order_id","schema":{"type":"string"},"required":true,"description":"Identificador da cobrança na Shipay.","example":"f92d30a8-499d-4f46-bcf2-8d689ad7b5f7"},{"in":"header","name":"authorization","schema":{"type":"string"},"required":true,"description":"Token de acesso obtido através do serviço de autenticação /pdvauth.","example":"Bearer"}],"security":[{"bearerAuth":[]}],"responses":{"200":{"description":"Order Status.","content":{"application/json":{"schema":{"type":"object","properties":{"order_id":{"type":"string","description":"Identificador da cobrança na Shipay.","example":"f92d30a8-499d-4f46-bcf2-8d689ad7b5f7"},"status":{"description":"Status da cobrança. Neste caso, os status possíveis são:\n\n| status            | descrição                                                                                                                                                                                                                 |\n|-------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| pending           | Cobrança aguardando pagamento.                                                                                                                                                                                              |\n| expired           | Cobrança expirada após 60 minutos com status \"pending\".                                                                                                                                                                     |\n| approved          | Cobrança aprovada.                                                                                                                                                                                                          |\n| cancelled         | Cobrança cancelada (ainda não paga).                                                                                                                                                                                        |\n| partial_refunded  | Pagamento parcialmente devolvido ao comprador.                                                                                                                                                                             |\n| refunded          | Pagamento devolvido ao comprador.                                                                                                                                                                                         |\n| refund_pending    | Devolução do pagamento solicitada. Status para PSPs assíncronos. O status fica até que o PSP retorne se realizou ou não a devolução.                                                                                         |\n","example":"cancelled","type":"string"},"balance":{"type":"number","format":"float","description":"Saldo da cobrança.","example":"null"},"paid_amount":{"type":"number","format":"float","description":"Valor pago pelo cliente.","example":"1.0"},"total_order":{"type":"number","format":"float","description":"Valor total da cobrança informado na criação.","example":"1.0"},"created_at":{"type":"string","format":"date-time","description":"Data e horário da criação da cobrança.","example":"Fri, 20 Sep 2024 18:04:27 GMT"},"payment_date":{"type":"string","format":"date-time","description":"Data e horário do pagamento da cobrança.","example":"Fri, 20 Sep 2024 18:04:46 GMT"},"updated_at":{"type":"string","format":"date-time","description":"Data e horário da última atualização da cobrança.","example":"Fri, 20 Sep 2024 18:04:46 GMT"},"wallet":{"type":"string","description":"Nome da conta na qual a cobrança foi criada. No caso de Pix, o valor desse campo é \"pix\", independente do provedor de serviço de pagamentos (PSP).","enum":["foxbit","coinpayments","mercadopago","pagseguro","picpay","tecban","pix"],"example":"shipay-pagador"},"external_id":{"type":"string","description":"Identificador da cobrança no sistema, mesmo inforado no \"order_ref\" no POST /order.","example":"nome-do-cobrança"},"items":{"type":"array","description":"Lista de itens da cobrança.","items":{"type":"object","properties":{"name":{"type":"string","description":"Nome do item.","example":"batata-doce"},"unit_price":{"type":"number","format":"float","description":"Valor unitário do item.","example":"1.0"},"quantity":{"type":"number","format":"float","description":"Quantidade do item.","example":"1.0"},"type":{"type":"string","description":"Tipo do produto.","example":"item"}}}},"buyer_info":{"type":"object","properties":{"first_name":{"type":"string","description":"Primeiro nome do devedor.","example":"Roberto"},"last_name":{"type":"string","description":"Último nome do devedor.","example":"da Silva"},"city":{"type":"string","description":"Cidade do devedor.","example":"null"},"state":{"type":"string","description":"Estado do devedor.","example":"null"},"address":{"type":"string","description":"Endereço do devedor.","example":"null"},"document":{"type":"string","description":"CPF ou CNPJ da pessoa do devedor (PF ou PJ).","example":"88646743063"},"email":{"type":"string","description":"Endereço de e-mail do devedor.","example":"bob.silva@email.com"},"phone":{"type":"string","description":"Número de telefone do devedor.","example":"(11) 99999-9999"}}},"wallet_payment_id":{"type":"string","description":"Identificador do pagamento da cobrança na Shipay. No caso de cobranças que não foram pagas, o retorno será \"null\".","example":"E60736948202104381456C3987yL7T9s"},"pix_psp":{"type":"string","description":"Nome do provedor de serviço de pagamentos (PSP) no qual a cobrança Pix foi gerada. No caso de cobranças realizadas com carteiras digitais (exceto Pix), o retorno será \"null\".","enum":["bb","bnb","bradesco","bs2","itau","itau_anybank","itau_anybank_v2","mercadopago","pagseguro","picpay_anybank","santander","sicredi","sicoob","tbanks"],"example":"null"}},"x-readme-ref-name":"OrderResponse"}}}},"401":{"description":"Unauthorized.","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","description":"Código de erro.","example":"401"},"message":{"type":"string","description":"Mensagem de erro.","example":"Unauthorized"}}}}}},"403":{"description":"Permission Denied.","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","description":"Código de erro.","example":"403"},"message":{"type":"string","description":"Mensagem de erro.","example":"Permission Denied"}}}}}},"404":{"description":"Order not Found.","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","description":"Código de erro.","example":"404"},"message":{"type":"string","description":"Mensagem de erro.","example":"Order not Found"}}}}}},"500":{"description":"Error creating the order.","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","description":"Código de erro.","example":"500"},"message":{"type":"string","description":"Mensagem de erro.","example":"Error creating the order"}}}}}}}},"delete":{"tags":["Gerenciamento de Cobranças para Pagamento Imediato"],"summary":"Cancelar uma cobrança pendente","parameters":[{"in":"path","name":"order_id","schema":{"type":"string"},"required":true,"description":"Identificador da cobrança na Shipay.","example":"f92d30a8-499d-4f46-bcf2-8d689ad7b5f7"},{"in":"header","name":"authorization","schema":{"type":"string"},"required":true,"description":"Token de acesso obtido através do serviço de autenticação /pdvauth.","example":"Bearer"}],"security":[{"bearerAuth":[]}],"responses":{"200":{"description":"Cancelamento de Cobranças pendentes.","content":{"application/json":{"schema":{"type":"object","properties":{"order_id":{"type":"string","description":"Identificador da cobrança na Shipay.","example":"652f385f-91f4-48cd-8e56-1fc6dec21526"},"status":{"description":"Status atual da cobrança. Neste caso, os status possíveis são:\n\n| status            | descrição                                                                                                                                                                                                                                                                                          |\n|-------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| cancelled         | Cobrança (ainda não paga) cancelado no PSP.                                                                                                                                                                                                                                          |\n| refunded          | Pagamento devolvido ao comprador                                                                                                                                                                                                                                                                   |\n| refund_pending    | Devolução do pagamento solicitada. Status para PSPs assíncronos. O status fica até que o psp retorne se realizou ou não a devolução. |\n| pending           | Cobrança pendente. Neste caso, a requisição de **cancelamento** falhou no PSP e a cobrança continua pendente.                                                                                                                                                                          |\n| approved          | Cobrança aprovado. Neste caso, a requisição de **devolução** falhou no PSP e a cobrança continua aprovado.                                                                                                                                                                               |\n","example":"cancelled","type":"string"}}}}}},"401":{"description":"Unauthorized.","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","description":"Código de erro.","example":"401"},"message":{"type":"string","description":"Mensagem de erro.","example":"Unauthorized"}}}}}},"403":{"description":"Permission Denied.","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","description":"Código de erro.","example":"403"},"message":{"type":"string","description":"Mensagem de erro.","example":"Permission Denied"}}}}}},"404":{"description":"Order not Found.","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","description":"Código de erro.","example":"404"},"message":{"type":"string","description":"Mensagem de erro.","example":"Order not Found"}}}}}},"500":{"description":"Error creating the order.","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","description":"Código de erro.","example":"500"},"message":{"type":"string","description":"Mensagem de erro.","example":"Error creating the order"}}}}}}}}},"/order/{order_id}/refund":{"delete":{"tags":["Gerenciamento de Cobranças para Pagamento Imediato"],"summary":"Realizar devolução do pagamento de uma cobrança","parameters":[{"in":"path","name":"order_id","schema":{"type":"string"},"required":true,"description":"Identificador da cobrança na Shipay.","example":"f92d30a8-499d-4f46-bcf2-8d689ad7b5f7"},{"in":"header","name":"authorization","schema":{"type":"string"},"required":true,"description":"Token de acesso obtido através do serviço de autenticação /pdvauth.","example":"Bearer"}],"security":[{"bearerAuth":[]}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"amount":{"type":"number","description":"Valor a ser devolvido.</br>Este valor tem que ser no máximo igual ao valor total do pedido.","example":5}}}}}},"responses":{"200":{"description":"Devolução de valores pagos de Cobranças.","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","description":"Mensagem relativa a operação feita.","example":"R$ 1.0 has been refunded."},"order_id":{"type":"string","description":"Identificador da cobrança na Shipay.","example":"652f385f-91f4-48cd-8e56-1fc6dec21526"},"status":{"description":"Status atual da cobrança. Neste caso, os status possíveis são:\n\n| status           | descrição                                                                                                                                                                                                                                                                                          |\n|------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| refunded          | Pagamento devolvido ao comprador                                                                                                                                                                                                                                                                   |\n| partial_refunded  | Valor parcial do pagamento devolvido ao comprador                                                                                                                                                                                                                                                  |\n| refund_pending    | Devolução do pagamento solicitada. Status para PSPs assíncronos. O status fica até que o psp retorne se realizou ou não a devolução |\n| approved          | Cobrança aprovado. Neste caso, a requisição de devolução falhou no PSP e a cobrança continua aprovado                                                                                                                                                                                      |\n","example":"refunded","type":"string"}}}}}},"400":{"description":"Bad request.","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","description":"Código de erro.","example":"400"},"message":{"type":"string","description":"Mensagem de erro.","example":"Bad request"}}}}}},"401":{"description":"Unauthorized.","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","description":"Código de erro.","example":"401"},"message":{"type":"string","description":"Mensagem de erro.","example":"Unauthorized"}}}}}},"403":{"description":"User not authorized.","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","description":"Código de erro.","example":"403"},"message":{"type":"string","description":"Mensagem de erro.","example":"User not authorized"}}}}}},"500":{"description":"Error creating the order.","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","description":"Código de erro.","example":"500"},"message":{"type":"string","description":"Mensagem de erro.","example":"Error creating the order"}}}}}}}}}},"components":{"securitySchemes":{"bearerAuth":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}},"schemas":{"ResponseAuth200":{"description":"Caixa Autenticado com Sucesso.","properties":{"access_token":{"type":"string","description":"Token de acesso do sistema autenticado.","example":"Bearer"},"access_token_expires_in":{"type":"integer","description":"O tempo de vida em segundos do token de acesso.","example":"14400"},"refresh_token":{"type":"string","description":"Token de atualização do sistema autenticado.","example":"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ.eyJpYXQiOjE2MzA0Mjc5NDUsIm5iZiI6MTYzMDQyNzk0NSwianRpIjoiMDc1YjExOGYtZjE4Ni00MzVlLWIyMDUtNGMyNzgyZTUwNzczIiwiZXhwIjoxNjMzMDE5OTQ1LCJpZGVudGl0eSI6eyJhdXRoX3R5cGUiOiJjbGllbnQiLCJjdXN0b21lcl9pZCI6Miwic3RvcmVfcG9zX2lkIjozNTd9LCJ0eXBlIjoicmVmcmVzaCJ9.tYPOrCHLjdciDxYLwgVqt4I6tiDoAZBv4-6T5e8ocA"},"refresh_token_expires_in":{"type":"integer","description":"O tempo de vida em segundos do token de atualização.","example":"28800"},"token_type":{"type":"string","description":"O tipo dos tokens gerados.","example":"Bearer"}},"x-readme-ref-name":"ResponseAuth200"},"OrderResponse":{"type":"object","properties":{"order_id":{"type":"string","description":"Identificador da cobrança na Shipay.","example":"f92d30a8-499d-4f46-bcf2-8d689ad7b5f7"},"status":{"description":"Status da cobrança. Neste caso, os status possíveis são:\n\n| status            | descrição                                                                                                                                                                                                                 |\n|-------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| pending           | Cobrança aguardando pagamento.                                                                                                                                                                                              |\n| expired           | Cobrança expirada após 60 minutos com status \"pending\".                                                                                                                                                                     |\n| approved          | Cobrança aprovada.                                                                                                                                                                                                          |\n| cancelled         | Cobrança cancelada (ainda não paga).                                                                                                                                                                                        |\n| partial_refunded  | Pagamento parcialmente devolvido ao comprador.                                                                                                                                                                             |\n| refunded          | Pagamento devolvido ao comprador.                                                                                                                                                                                         |\n| refund_pending    | Devolução do pagamento solicitada. Status para PSPs assíncronos. O status fica até que o PSP retorne se realizou ou não a devolução.                                                                                         |\n","example":"cancelled","type":"string"},"balance":{"type":"number","format":"float","description":"Saldo da cobrança.","example":"null"},"paid_amount":{"type":"number","format":"float","description":"Valor pago pelo cliente.","example":"1.0"},"total_order":{"type":"number","format":"float","description":"Valor total da cobrança informado na criação.","example":"1.0"},"created_at":{"type":"string","format":"date-time","description":"Data e horário da criação da cobrança.","example":"Fri, 20 Sep 2024 18:04:27 GMT"},"payment_date":{"type":"string","format":"date-time","description":"Data e horário do pagamento da cobrança.","example":"Fri, 20 Sep 2024 18:04:46 GMT"},"updated_at":{"type":"string","format":"date-time","description":"Data e horário da última atualização da cobrança.","example":"Fri, 20 Sep 2024 18:04:46 GMT"},"wallet":{"type":"string","description":"Nome da conta na qual a cobrança foi criada. No caso de Pix, o valor desse campo é \"pix\", independente do provedor de serviço de pagamentos (PSP).","enum":["foxbit","coinpayments","mercadopago","pagseguro","picpay","tecban","pix"],"example":"shipay-pagador"},"external_id":{"type":"string","description":"Identificador da cobrança no sistema, mesmo inforado no \"order_ref\" no POST /order.","example":"nome-do-cobrança"},"items":{"type":"array","description":"Lista de itens da cobrança.","items":{"type":"object","properties":{"name":{"type":"string","description":"Nome do item.","example":"batata-doce"},"unit_price":{"type":"number","format":"float","description":"Valor unitário do item.","example":"1.0"},"quantity":{"type":"number","format":"float","description":"Quantidade do item.","example":"1.0"},"type":{"type":"string","description":"Tipo do produto.","example":"item"}}}},"buyer_info":{"type":"object","properties":{"first_name":{"type":"string","description":"Primeiro nome do devedor.","example":"Roberto"},"last_name":{"type":"string","description":"Último nome do devedor.","example":"da Silva"},"city":{"type":"string","description":"Cidade do devedor.","example":"null"},"state":{"type":"string","description":"Estado do devedor.","example":"null"},"address":{"type":"string","description":"Endereço do devedor.","example":"null"},"document":{"type":"string","description":"CPF ou CNPJ da pessoa do devedor (PF ou PJ).","example":"88646743063"},"email":{"type":"string","description":"Endereço de e-mail do devedor.","example":"bob.silva@email.com"},"phone":{"type":"string","description":"Número de telefone do devedor.","example":"(11) 99999-9999"}}},"wallet_payment_id":{"type":"string","description":"Identificador do pagamento da cobrança na Shipay. No caso de cobranças que não foram pagas, o retorno será \"null\".","example":"E60736948202104381456C3987yL7T9s"},"pix_psp":{"type":"string","description":"Nome do provedor de serviço de pagamentos (PSP) no qual a cobrança Pix foi gerada. No caso de cobranças realizadas com carteiras digitais (exceto Pix), o retorno será \"null\".","enum":["bb","bnb","bradesco","bs2","itau","itau_anybank","itau_anybank_v2","mercadopago","pagseguro","picpay_anybank","santander","sicredi","sicoob","tbanks"],"example":"null"}},"x-readme-ref-name":"OrderResponse"}}},"x-readme":{"explorer-enabled":true,"proxy-enabled":true}}